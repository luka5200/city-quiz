<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸå¸‚çµé­‚åŒ¹é…æµ‹è¯•</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .quiz-container {
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 700px;
            width: 100%;
            padding: 40px;
            animation: fadeIn 0.5s ease-out;
            max-height: 95vh;
            overflow-y: auto;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .start-screen, .quiz-screen, .result-screen {
            display: none;
            text-align: center;
        }

        .start-screen.active, .quiz-screen.active, .result-screen.active {
            display: block;
        }

        .title {
            font-size: 32px;
            color: #333;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 40px;
            line-height: 1.8;
        }

        .start-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102,126,234,0.4);
        }

        .progress {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 30px;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e0e0e0;
            transition: background 0.3s;
        }

        .progress-dot.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .progress-dot.completed {
            background: #4CAF50;
        }

        .question {
            font-size: 22px;
            color: #333;
            margin-bottom: 30px;
            font-weight: 500;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            padding: 18px 25px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            color: #555;
            text-align: left;
            background: #fff;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
        }

        .result-card {
            background: linear-gradient(135deg, #fff5e6 0%, #fff 100%);
            border-radius: 15px;
            padding: 30px;
            margin-top: 20px;
            border: 2px solid #ffd700;
        }

        .city-name {
            font-size: 36px;
            color: #333;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .match-score {
            font-size: 24px;
            color: #ff6b6b;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
        }

        .portrait {
            font-size: 16px;
            color: #555;
            line-height: 1.8;
            margin-bottom: 25px;
            font-style: italic;
        }

        .restart-btn {
            background: #333;
            color: #fff;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .restart-btn:hover {
            background: #555;
            transform: translateY(-2px);
        }

        @media (max-width: 480px) {
            .quiz-container {
                padding: 25px;
            }

            .title {
                font-size: 26px;
            }

            .question {
                font-size: 18px;
            }

            .option {
                padding: 15px 20px;
                font-size: 15px;
            }

            .city-name {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <!-- å¼€å§‹ç•Œé¢ -->
        <div class="start-screen active" id="startScreen">
            <h1 class="title">ğŸ™ï¸ åŸå¸‚çµé­‚åŒ¹é…</h1>
            <p class="subtitle">
                æ¯ä¸€åº§åŸå¸‚éƒ½æœ‰ç‹¬ç‰¹çš„çµé­‚ï¼Œ<br>
                å°±åƒæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å¿ƒè·³é¢‘ç‡ã€‚<br><br>
                å›ç­”15ä¸ªé—®é¢˜ï¼Œæ‰¾åˆ°ä¸ä½ çµé­‚å¥‘åˆçš„å¤©é€‰ä¹‹åŸ
            </p>
            <button class="start-btn" onclick="startQuiz()">å¼€å§‹æµ‹è¯•</button>
        </div>

        <!-- ç­”é¢˜ç•Œé¢ -->
        <div class="quiz-screen" id="quizScreen">
            <div class="progress" id="progress"></div>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
        </div>

        <!-- ç»“æœç•Œé¢ -->
        <div class="result-screen" id="resultScreen">
            <h2 class="title" style="font-size: 28px;">âœ¨ ä½ çš„å¤©é€‰ä¹‹åŸ</h2>
            <div class="result-card">
                <div class="city-name" id="cityName"></div>
                <div class="match-score" id="matchScore"></div>
                <div class="tags" id="tags"></div>
                <div class="portrait" id="portrait"></div>
            </div>
            <button class="restart-btn" onclick="restartQuiz()">é‡æ–°æµ‹è¯•</button>
        </div>
    </div>

    <script>
        // ==================== é™æ—¶éªŒè¯ä»£ç  ====================
        const EXPIRATION_DAYS = 3;
        const EXPIRATION_DATE = new Date();
        EXPIRATION_DATE.setDate(EXPIRATION_DATE.getDate() + EXPIRATION_DAYS);
        
        function checkExpiration() {
            const currentDate = new Date();
            const expirationTime = EXPIRATION_DATE.getTime();
            const currentTime = currentDate.getTime();
            
            if (currentTime > expirationTime) {
                document.body.innerHTML = `
                    <div style="display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);font-family:'PingFang SC','Microsoft YaHei',sans-serif;padding:20px;">
                        <div style="background:white;border-radius:20px;padding:40px;text-align:center;max-width:500px;box-shadow:0 20px 60px rgba(0,0,0,0.3);">
                            <div style="font-size:60px;margin-bottom:20px;">â°</div>
                            <h1 style="font-size:24px;color:#333;margin-bottom:20px;font-weight:600;">é“¾æ¥å·²è¿‡æœŸ</h1>
                            <p style="font-size:16px;color:#666;line-height:1.8;margin-bottom:30px;">
                                æ„Ÿè°¢æ‚¨çš„å‚ä¸ï¼<br>
                                è¯¥æµ‹è¯•é“¾æ¥å·²è¶…è¿‡æœ‰æ•ˆæœŸã€‚<br><br>
                                å¦‚éœ€é‡æ–°æµ‹è¯•ï¼Œè¯·è”ç³»å‘å¸ƒè€…<br>
                                è·å–æœ€æ–°é“¾æ¥ã€‚
                            </p>
                            <div style="background:#f0f0f0;padding:15px;border-radius:10px;margin-bottom:20px;">
                                <p style="font-size:14px;color:#999;margin:0;">
                                    è¿‡æœŸæ—¶é—´ï¼š${EXPIRATION_DATE.toLocaleDateString('zh-CN')}
                                </p>
                            </div>
                        </div>
                    </div>
                `;
                document.title = 'é“¾æ¥å·²è¿‡æœŸ';
                return false;
            }
            return true;
        }
        
        window.onload = function() {
            if (!checkExpiration()) {
                return;
            }
            const remainingDays = Math.ceil((EXPIRATION_DATE.getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24));
            console.log(`æ­¤é“¾æ¥è¿˜æœ‰ ${remainingDays} å¤©æœ‰æ•ˆæœŸ`);
        };
        
        let originalDate = Date.now();
        setInterval(() => {
            const now = Date.now();
            if (now < originalDate) {
                checkExpiration();
            }
            originalDate = now;
        }, 1000);

        // ==================== åŸå¸‚æ•°æ® ====================
        const cities = [
            {
                name: 'æˆéƒ½',
                wealth: 6, chill: 10, global: 5, vibe: 10, nature: 8, safety: 8,
                tags: ['#å¤©åºœä¹‹å›½', '#æ…¢ç”Ÿæ´»', '#ç«é”…ä¹‹åŸ', '#å®‰é€¸æ‚ é—²'],
                portrait: 'ä½ æ˜¯çœŸæ­£æ‡‚å¾—ç”Ÿæ´»çš„äººï¼Œåœ¨æ…¢èŠ‚å¥ä¸­å“å‘³äººç”ŸçœŸè°›ã€‚ä¸€ç¢—èŒ¶ã€ä¸€é¡¿ç«é”…ï¼Œå°±èƒ½è®©ä½ æ„Ÿå—åˆ°å¹¸ç¦çš„æ¸©åº¦ã€‚'
            },
            {
                name: 'ä¸Šæµ·',
                wealth: 10, chill: 3, global: 10, vibe: 8, nature: 6, safety: 9,
                tags: ['#é­”éƒ½', '#å›½é™…é‡‘è', '#æ—¶å°šå‰æ²¿', '#ç²¾è‡´ç”Ÿæ´»'],
                portrait: 'ä½ æ˜¯å¤©ç”Ÿçš„å›½é™…åŒ–äººæ‰ï¼Œåœ¨å¤šå…ƒæ–‡åŒ–çš„äº¤èä¸­å¦‚é±¼å¾—æ°´ã€‚è¿½æ±‚ç²¾è‡´ä¸å“è´¨ï¼Œåœ¨å¿«èŠ‚å¥ä¸­ä¾ç„¶ä¿æŒç€ä¼˜é›…çš„ç”Ÿæ´»æ–¹å¼ã€‚'
            },
            {
                name: 'åŒ—äº¬',
                wealth: 10, chill: 2, global: 9, vibe: 7, nature: 5, safety: 10,
                tags: ['#æƒåŠ›ä¸­å¿ƒ', '#å†å²åº•è•´', '#æ–‡åŒ–é¦–éƒ½', '#å¥‹æ–—ä¹‹åŸ'],
                portrait: 'ä½ å†…å¿ƒæ¸´æœ›å®ç°è¿œå¤§æŠ±è´Ÿï¼Œåœ¨æƒåŠ›ä¸æ–‡åŒ–çš„ä¸­å¿ƒä¹¦å†™äººç”Ÿä¼ å¥‡ã€‚ä½ ä¹ æƒ¯äºå¿«èŠ‚å¥çš„å¥‹æ–—ï¼ŒåŒæ—¶åˆèƒ½äº«å—æ·±åšçš„å†å²åº•è•´ã€‚'
            },
            {
                name: 'æ·±åœ³',
                wealth: 10, chill: 1, global: 8, vibe: 6, nature: 7, safety: 8,
                tags: ['#åˆ›æ–°ä¹‹éƒ½', '#å¥‹æ–—ä¹å›­', '#å¹´è½»æ´»åŠ›', '#ç§‘æŠ€å‰æ²¿'],
                portrait: 'ä½ æ˜¯å……æ»¡æ¿€æƒ…çš„åˆ›æ–°è€…ï¼Œåœ¨ç§‘æŠ€çš„æµªæ½®ä¸­å‹‡ç«‹æ½®å¤´ã€‚ä½ ä¸æƒ§æŒ‘æˆ˜ï¼Œç›¸ä¿¡é€šè¿‡åŠªåŠ›å¯ä»¥æ”¹å˜å‘½è¿ï¼Œæ·±åœ³å°±æ˜¯ä½ å®ç°æ¢¦æƒ³çš„èˆå°ã€‚'
            },
            {
                name: 'æ­å·',
                wealth: 8, chill: 5, global: 7, vibe: 8, nature: 9, safety: 9,
                tags: ['#äººé—´å¤©å ‚', '#ç”µå•†ä¹‹éƒ½', '#å±±æ°´ä¹‹åŸ', '#å“è´¨ç”Ÿæ´»'],
                portrait: 'ä½ åœ¨ä¼ ç»Ÿä¸ç°ä»£ä¹‹é—´æ‰¾åˆ°äº†å®Œç¾å¹³è¡¡ã€‚æ—¢æœ‰è¥¿æ¹–çš„è¯—æ„ï¼Œåˆæœ‰äº’è”ç½‘çš„æ´»åŠ›ï¼Œä½ è¿½æ±‚çš„æ˜¯ä¸€ç§æœ‰å“è´¨çš„æ…¢ç”Ÿæ´»ã€‚'
            },
            {
                name: 'å¹¿å·',
                wealth: 9, chill: 4, global: 8, vibe: 10, nature: 7, safety: 9,
                tags: ['#ç¾é£Ÿä¹‹éƒ½', '#å•†è´¸ä¸­å¿ƒ', '#åŠ¡å®åŒ…å®¹', '#ç”Ÿæ´»æ°”æ¯'],
                portrait: 'ä½ æ˜¯æ‡‚å¾—ç”Ÿæ´»çš„åŠ¡å®æ´¾ï¼Œåœ¨çƒŸç«æ°”ä¸­å“å‘³äººç”Ÿçš„ç¾å¥½ã€‚å¼€æ”¾çš„èƒ¸æ€€åŒ…å®¹ä¸€åˆ‡ï¼Œç¾é£Ÿæ˜¯ä½ ä¸åŸå¸‚æœ€ç›´æ¥çš„æƒ…æ„Ÿçº½å¸¦ã€‚'
            },
            {
                name: 'é‡åº†',
                wealth: 7, chill: 5, global: 6, vibe: 9, nature: 7, safety: 8,
                tags: ['#å±±åŸ', '#ç«é”…ä¹‹éƒ½', '#ç«‹ä½“é­”å¹»', '#ç«è¾£çƒ­æƒ…'],
                portrait: 'ä½ æ˜¯å……æ»¡æ´»åŠ›çš„å†’é™©å®¶ï¼Œåœ¨ç«‹ä½“çš„å±±åŸä¸­æ¢ç´¢äººç”Ÿç™¾æ€ã€‚ç«è¾£çš„æ€§æ ¼ä¸é­”å¹»çš„åŸå¸‚é£è²Œï¼Œå®Œç¾å¥‘åˆä½ ä¸å®‰åˆ†çš„çµé­‚ã€‚'
            },
            {
                name: 'å¦é—¨',
                wealth: 5, chill: 9, global: 6, vibe: 7, nature: 10, safety: 9,
                tags: ['#æµ·ä¸ŠèŠ±å›­', '#æ–‡è‰ºå°èµ„', '#æµ·æ»¨ä¼‘é—²', '#æ¸…æ–°å”¯ç¾'],
                portrait: 'ä½ æ˜¯æ–‡è‰ºçš„æµªæ¼«ä¸»ä¹‰è€…ï¼Œåœ¨æµ·è¾¹å°åŸä¸­å¯»æ‰¾è¯—æ„æ –å±…ã€‚æ…¢èŠ‚å¥çš„ç”Ÿæ´»ä¸æ¸…æ–°çš„ç¯å¢ƒï¼Œæ»‹å…»ç€ä½ æ•æ„Ÿè€Œç»†è…»çš„å¿ƒçµã€‚'
            },
            {
                name: 'è¥¿å®‰',
                wealth: 6, chill: 4, global: 5, vibe: 8, nature: 6, safety: 8,
                tags: ['#åä¸‰æœå¤éƒ½', '#ç¾é£Ÿå¤©å ‚', '#å†å²æ–‡åŒ–', '#åšé‡æ·±æ²‰'],
                portrait: 'ä½ ä¸å†å²æœ‰ç€å¤©ç„¶çš„è¿æ¥ï¼Œåœ¨åƒå¹´å¤éƒ½ä¸­æ„Ÿå—æ–‡æ˜çš„è„‰åŠ¨ã€‚åšé‡çš„æ–‡åŒ–åº•è•´æ˜¯ä½ ç²¾ç¥ä¸–ç•Œçš„æœ€ä½³å…»åˆ†ã€‚'
            },
            {
                name: 'æ˜†æ˜',
                wealth: 4, chill: 9, global: 4, vibe: 8, nature: 10, safety: 8,
                tags: ['#æ˜¥åŸ', '#å››å­£å¦‚æ˜¥', '#é²œèŠ±ç››å¼€', '#æ‚ é—²å®œå±…'],
                portrait: 'ä½ æ˜¯è¿½æ±‚è‡ªç„¶çš„æ²»æ„ˆè€…ï¼Œåœ¨æ°¸æ’çš„æ˜¥å¤©ä¸­å®‰æ”¾çµé­‚ã€‚æ¸©å’Œçš„æ°”å€™ä¸ä¸°å¯Œçš„é²œèŠ±ï¼Œæ˜¯ä½ å¿ƒä¸­ç†æƒ³çš„ç”Ÿæ´»åº•è‰²ã€‚'
            }
        ];

        // ==================== æµ‹è¯•é¢˜ç›® ====================
        const questions = [
            {
                question: 'ä½ æ›´å–œæ¬¢å“ªç§ç”Ÿæ´»æ–¹å¼ï¼Ÿ',
                options: [
                    { text: 'A. æ…¢ç”Ÿæ´»ï¼Œäº«å—æ‚ é—²æ—¶å…‰', scores: { wealth: 0, chill: 2, global: 0, vibe: 1, nature: 1, safety: 0 } },
                    { text: 'B. å¿«èŠ‚å¥ï¼Œè¿½æ±‚äº‹ä¸šå‘å±•', scores: { wealth: 1, chill: -1, global: 1, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'C. å¹³è¡¡ç‚¹ï¼Œå·¥ä½œç”Ÿæ´»å…¼é¡¾', scores: { wealth: 0.5, chill: 0.5, global: 0.5, vibe: 0.5, nature: 0.5, safety: 0.5 } },
                    { text: 'D. éšå¿ƒæ‰€æ¬²ï¼Œä¸å—æ‹˜æŸ', scores: { wealth: 0, chill: 1, global: 0, vibe: 1, nature: 0, safety: 0 } }
                ]
            },
            {
                question: 'å‘¨æœ«ä½ æœ€å–œæ¬¢åšä»€ä¹ˆï¼Ÿ',
                options: [
                    { text: 'A. åœ¨å®¶è¿½å‰§æ‰“æ¸¸æˆ', scores: { wealth: 0, chill: 1.5, global: 0, vibe: 0, nature: 0, safety: 0.5 } },
                    { text: 'B. å’Œæœ‹å‹èšé¤èšä¼š', scores: { wealth: 0, chill: 0.5, global: 0, vibe: 2, nature: 0, safety: 0 } },
                    { text: 'C. æˆ·å¤–è¿åŠ¨ï¼Œçˆ¬å±±è·‘æ­¥', scores: { wealth: 0, chill: 1, global: 0, vibe: 0.5, nature: 2, safety: 0 } },
                    { text: 'D. å‚è§‚åšç‰©é¦†ã€çœ‹å±•è§ˆ', scores: { wealth: 0.5, chill: 0, global: 1, vibe: 1, nature: 0, safety: 0 } }
                ]
            },
            {
                question: 'ä½ å¯¹ç¾é£Ÿçš„æ€åº¦æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. ç¾é£Ÿå³ç”Ÿå‘½ï¼Œæ— è¾£ä¸æ¬¢', scores: { wealth: 0, chill: 0.5, global: 0, vibe: 2, nature: 0, safety: 0 } },
                    { text: 'B. æ³¨é‡å“è´¨ï¼Œå–œæ¬¢ç²¾è‡´æ–™ç†', scores: { wealth: 1, chill: 0, global: 1, vibe: 1, nature: 0, safety: 0.5 } },
                    { text: 'C. ç®€å•å°±å¥½ï¼Œä¸å¤ªåœ¨æ„', scores: { wealth: 0, chill: 1, global: 0, vibe: 0.5, nature: 0, safety: 0.5 } },
                    { text: 'D. å–œæ¬¢å°è¯•å„ç§æ–°å£å‘³', scores: { wealth: 0.5, chill: 0.5, global: 1.5, vibe: 1.5, nature: 0, safety: 0 } }
                ]
            },
            {
                question: 'ä½ ç†æƒ³ä¸­çš„åŸå¸‚æ°”å€™æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. å››å­£åˆ†æ˜ï¼Œæœ‰å­£èŠ‚æ„Ÿ', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. å…¨å¹´æ¸©æš–å¦‚æ˜¥', scores: { wealth: 0, chill: 1, global: 0, vibe: 0, nature: 1, safety: 0 } },
                    { text: 'C. çƒ­å¸¦é˜³å…‰ï¼Œæµ·æ»¨åº¦å‡', scores: { wealth: 0, chill: 1, global: 0, vibe: 0, nature: 2, safety: 0 } },
                    { text: 'D. æ— æ‰€è°“ï¼Œéƒ½èƒ½é€‚åº”', scores: { wealth: 0.5, chill: 0, global: 1, vibe: 1, nature: 0, safety: 0.5 } }
                ]
            },
            {
                question: 'é¢å¯¹ä¸€ä¸ªæ–°å·¥ä½œæœºä¼šï¼Œä»€ä¹ˆæœ€æ‰“åŠ¨ä½ ï¼Ÿ',
                options: [
                    { text: 'A. é«˜è–ªï¼Œè–ªèµ„æ¶¨å¹…è¶…è¿‡50%', scores: { wealth: 2, chill: -1, global: 0.5, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. å·¥ä½œç”Ÿæ´»å¹³è¡¡ï¼Œæ‹’ç»996', scores: { wealth: 0, chill: 2, global: 0, vibe: 0.5, nature: 0.5, safety: 0.5 } },
                    { text: 'C. å›½é™…åŒ–å›¢é˜Ÿï¼Œæ¥è§¦å…¨çƒä¸šåŠ¡', scores: { wealth: 1, chill: 0, global: 2, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'D. ç¨³å®šçš„å¤§å¹³å°ï¼Œå®Œå–„ç¦åˆ©', scores: { wealth: 0.5, chill: 0.5, global: 0, vibe: 0, nature: 0, safety: 2 } }
                ]
            },
            {
                question: 'ä½ è§‰å¾—ä»€ä¹ˆæ ·çš„ç”Ÿæ´»æ‰ç®—æˆåŠŸï¼Ÿ',
                options: [
                    { text: 'A. äº‹ä¸šæœ‰æˆï¼Œè´¢åŠ¡è‡ªç”±', scores: { wealth: 2, chill: -1, global: 0.5, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. ç”Ÿæ´»å¹³è¡¡ï¼Œèº«å¿ƒå¥åº·', scores: { wealth: 0, chill: 2, global: 0, vibe: 0.5, nature: 0.5, safety: 0.5 } },
                    { text: 'C. è§è¯†å¹¿é˜”ï¼Œä½“éªŒä¸°å¯Œ', scores: { wealth: 0.5, chill: 0, global: 2, vibe: 0.5, nature: 0, safety: 0 } },
                    { text: 'D. å®¶åº­å¹¸ç¦ï¼Œå®‰ç¨³è¸å®', scores: { wealth: 0, chill: 1, global: 0, vibe: 0, nature: 0, safety: 2 } }
                ]
            },
            {
                question: 'ä½ æ›´å‘å¾€å“ªç§æ–‡åŒ–æ°›å›´ï¼Ÿ',
                options: [
                    { text: 'A. å›½é™…åŒ–å¤§éƒ½å¸‚ï¼Œå¤šå…ƒæ–‡åŒ–', scores: { wealth: 0.5, chill: -0.5, global: 2, vibe: 1, nature: 0, safety: 0 } },
                    { text: 'B. å†å²æ–‡åŒ–ååŸï¼Œåº•è•´æ·±åš', scores: { wealth: 0, chill: 0.5, global: 0.5, vibe: 1.5, nature: 0.5, safety: 0.5 } },
                    { text: 'C. æ»¨æµ·åº¦å‡åŸå¸‚ï¼Œä¼‘é—²æµªæ¼«', scores: { wealth: 0, chill: 1.5, global: 0.5, vibe: 0.5, nature: 2, safety: 0 } },
                    { text: 'D. æ–°å…´ç§‘æŠ€åŸå¸‚ï¼Œåˆ›æ–°æ´»åŠ›', scores: { wealth: 1, chill: -0.5, global: 1, vibe: 0.5, nature: 0.5, safety: 0.5 } }
                ]
            },
            {
                question: 'å¦‚æœä½ è¦åœ¨å¤§åŸå¸‚ä¹°æˆ¿ï¼Œä½ æ›´çœ‹é‡ä»€ä¹ˆï¼Ÿ',
                options: [
                    { text: 'A. åœ°æ®µå‡å€¼æ½œåŠ›ï¼ŒæŠ•èµ„ä»·å€¼', scores: { wealth: 1.5, chill: -0.5, global: 0.5, vibe: 0, nature: 0, safety: 0.5 } },
                    { text: 'B. å‘¨è¾¹è‡ªç„¶ç¯å¢ƒï¼Œè¿œç¦»å–§åš£', scores: { wealth: 0, chill: 1, global: 0, vibe: 0.5, nature: 2, safety: 0 } },
                    { text: 'C. å­¦åŒºåŒ»ç–—é…å¥—ï¼Œç”Ÿæ´»ä¾¿åˆ©', scores: { wealth: 0.5, chill: 0, global: 0, vibe: 0, nature: 0, safety: 2 } },
                    { text: 'D. ç¤¾åŒºæ–‡åŒ–æ°›å›´ï¼Œé‚»é‡Œå’Œè°', scores: { wealth: 0, chill: 1.5, global: 0, vibe: 1, nature: 0.5, safety: 1 } }
                ]
            },
            {
                question: 'ä½ å¯¹äº¤é€šçš„å®¹å¿åº¦æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. å¿…é¡»åœ°é“ç›´è¾¾ï¼Œå››é€šå…«è¾¾', scores: { wealth: 0.5, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. å…¬äº¤æ–¹ä¾¿å°±å¯ä»¥', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'C. æ‰“è½¦å‡ºè¡Œï¼Œä¸åœ¨æ„å…¬äº¤åœ°é“', scores: { wealth: 1, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'D. è‡ªå·±å¼€è½¦ï¼Œå¿…é¡»ä¸æ‹¥å µ', scores: { wealth: 1, chill: 1, global: 0, vibe: 0, nature: 0, safety: 0 } }
                ]
            },
            {
                question: 'æ™šä¸Š10ç‚¹ï¼Œä½ æ›´å¯èƒ½åœ¨åšä»€ä¹ˆï¼Ÿ',
                options: [
                    { text: 'A. è¿˜åœ¨åŠ ç­å·¥ä½œ', scores: { wealth: 1, chill: -0.5, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. åœ¨å¤œå¸‚åƒå®µå¤œ', scores: { wealth: 0, chill: 0.5, global: 0, vibe: 2, nature: 0, safety: 0 } },
                    { text: 'C. åœ¨å®¶çœ‹å‰§æˆ–çœ‹ä¹¦', scores: { wealth: 0, chill: 1.5, global: 0, vibe: 0.5, nature: 0, safety: 0.5 } },
                    { text: 'D. åœ¨å¥èº«æˆ¿è¿åŠ¨', scores: { wealth: 0, chill: 0.5, global: 0, vibe: 1, nature: 1.5, safety: 0 } }
                ]
            },
            {
                question: 'ä½ å¯¹æˆ¿ä»·çš„æ€åº¦æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. å¿…é¡»ä¹°å¾—èµ·ï¼Œä¸ç„¶ä¸åœ¨æ­¤å‘å±•', scores: { wealth: 0.5, chill: -0.5, global: 0, vibe: 0, nature: 0, safety: 0.5 } },
                    { text: 'B. ç§Ÿæˆ¿ä¹Ÿå¯ä»¥ï¼Œä¸æƒ³èƒŒè´Ÿæˆ¿è´·', scores: { wealth: -0.5, chill: 1.5, global: 0, vibe: 0.5, nature: 0, safety: 0 } },
                    { text: 'C. çœ‹æƒ…å†µï¼Œä¸å½±å“ç”Ÿæ´»è´¨é‡', scores: { wealth: 0.5, chill: 0.5, global: 0.5, vibe: 0.5, nature: 0.5, safety: 0.5 } },
                    { text: 'D. æš‚ä¸è€ƒè™‘ï¼Œäº«å—å½“ä¸‹', scores: { wealth: 0, chill: 2, global: 0, vibe: 1, nature: 1, safety: 0 } }
                ]
            },
            {
                question: 'ä½ æ›´å–œæ¬¢å“ªç§ç¤¾äº¤æ–¹å¼ï¼Ÿ',
                options: [
                    { text: 'A. å¤§å‹èšä¼šï¼Œè®¤è¯†æ–°æœ‹å‹', scores: { wealth: 0, chill: 0, global: 1, vibe: 2, nature: 0, safety: 0 } },
                    { text: 'B. å°èŒƒå›´èšä¼šï¼Œè€æœ‹å‹èŠå¤©', scores: { wealth: 0, chill: 1, global: 0, vibe: 1, nature: 0, safety: 0.5 } },
                    { text: 'C. ä¸€å¯¹ä¸€æ·±åº¦äº¤æµ', scores: { wealth: 0, chill: 1, global: 0.5, vibe: 1, nature: 0, safety: 0.5 } },
                    { text: 'D. å–œæ¬¢ç‹¬å¤„ï¼Œä¸éœ€è¦ç¤¾äº¤', scores: { wealth: 0, chill: 1.5, global: 0, vibe: 0, nature: 0.5, safety: 0.5 } }
                ]
            },
            {
                question: 'ä½ æœ€åæ„Ÿçš„åŸå¸‚é—®é¢˜æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. å‘å±•æœºä¼šå¤ªå°‘ï¼Œè–ªèµ„æ°´å¹³ä½', scores: { wealth: 2, chill: -1, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. ç”Ÿæ´»èŠ‚å¥å¤ªå¿«ï¼Œå‹åŠ›å¤ªå¤§', scores: { wealth: -0.5, chill: 2, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'C. æ’å¤–ä¸¥é‡ï¼Œç¼ºä¹åŒ…å®¹æ€§', scores: { wealth: 0, chill: 0, global: 2, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'D. é£Ÿå ‚ä¸å¥½åƒï¼Œæ²¡æœ‰ç¾é£Ÿ', scores: { wealth: 0, chill: 0, global: 0, vibe: 2, nature: 0, safety: 0 } }
                ]
            },
            {
                question: 'ä½ ç†æƒ³ä¸­çš„æ™šé¤æ°›å›´æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. ç±³å…¶æ—é¤å…ï¼Œç²¾è‡´ä¼˜é›…', scores: { wealth: 1, chill: -0.5, global: 1.5, vibe: 1, nature: 0, safety: 0.5 } },
                    { text: 'B. è¡—è¾¹å¤§æ’æ¡£ï¼Œçƒ­é—¹å–§åš£', scores: { wealth: 0, chill: 1, global: 0, vibe: 2, nature: 0, safety: 0 } },
                    { text: 'C. å±…å®¶çƒ¹é¥ªï¼Œæ¸©é¦¨ç§å¯†', scores: { wealth: 0, chill: 1.5, global: 0, vibe: 0.5, nature: 0, safety: 1 } },
                    { text: 'D. å¼‚å›½é£å‘³ï¼Œæ¢ç´¢æ–°å¥‡', scores: { wealth: 0.5, chill: 0.5, global: 2, vibe: 1, nature: 0, safety: 0 } }
                ]
            },
            {
                question: 'å‘¨æœ«æ—©æ™¨é†’æ¥ï¼Œä½ æœ€æƒ³åœ¨å“ªå„¿å–ç¬¬ä¸€æ¯å’–å•¡ï¼Ÿ',
                options: [
                    { text: 'A. é™†å®¶å˜´äº‘ç«¯ï¼Œä¿¯ç°ç¹åéƒ½å¸‚', scores: { wealth: 1.5, chill: -0.5, global: 1.5, vibe: 0.5, nature: 0, safety: 0.5 } },
                    { text: 'B. èƒ¡åŒè½¬è§’ï¼Œæ„Ÿå—å¸‚äº•çƒŸç«', scores: { wealth: 0, chill: 1, global: 0, vibe: 1.5, nature: 0, safety: 0.5 } },
                    { text: 'C. æµ·è¾¹æ²™æ»©ï¼Œè†å¬æµ·æµªå£°', scores: { wealth: 0, chill: 1.5, global: 0.5, vibe: 0.5, nature: 2, safety: 0 } },
                    { text: 'D. è‡ªå®¶åº­é™¢ï¼Œäº«å—å®é™æ—¶å…‰', scores: { wealth: 0, chill: 2, global: 0, vibe: 0.5, nature: 1, safety: 1 } }
                ]
            }
        ];

        // ==================== æ¸¸æˆé€»è¾‘ ====================
        let currentQuestionIndex = 0;
        let userScores = {
            wealth: 0,
            chill: 0,
            global: 0,
            vibe: 0,
            nature: 0,
            safety: 0
        };

        function startQuiz() {
            document.getElementById('startScreen').classList.remove('active');
            document.getElementById('quizScreen').classList.add('active');
            renderProgress();
            renderQuestion();
        }

        function renderProgress() {
            const progressContainer = document.getElementById('progress');
            progressContainer.innerHTML = '';
            for (let i = 0; i < questions.length; i++) {
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                if (i < currentQuestionIndex) {
                    dot.classList.add('completed');
                } else if (i === currentQuestionIndex) {
                    dot.classList.add('active');
                }
                progressContainer.appendChild(dot);
            }
        }

        function renderQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('question').textContent = `ç¬¬ ${currentQuestionIndex + 1}/${questions.length} é¢˜ï¼š${question.question}`;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option.text;
                optionElement.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionElement);
            });
        }

        function selectOption(optionIndex) {
            const selectedOption = questions[currentQuestionIndex].options[optionIndex];
            
            // ç´¯åŠ åˆ†æ•°
            userScores.wealth += selectedOption.scores.wealth;
            userScores.chill += selectedOption.scores.chill;
            userScores.global += selectedOption.scores.global;
            userScores.vibe += selectedOption.scores.vibe;
            userScores.nature += selectedOption.scores.nature;
            userScores.safety += selectedOption.scores.safety;
            
            // é«˜äº®é€‰ä¸­é€‰é¡¹
            const options = document.querySelectorAll('.option');
            options.forEach((opt, idx) => {
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                } else {
                    opt.classList.remove('selected');
                }
            });
            
            // å»¶è¿Ÿè¿›å…¥ä¸‹ä¸€é¢˜
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    renderProgress();
                    renderQuestion();
                } else {
                    showResult();
                }
            }, 500);
        }

        function showResult() {
            // è®¡ç®—åŒ¹é…åˆ†æ•°
            let bestMatch = null;
            let bestScore = -Infinity;
            
            cities.forEach(city => {
                let score = 0;
                score -= Math.abs(city.wealth - userScores.wealth);
                score -= Math.abs(city.chill - userScores.chill);
                score -= Math.abs(city.global - userScores.global);
                score -= Math.abs(city.vibe - userScores.vibe);
                score -= Math.abs(city.nature - userScores.nature);
                score -= Math.abs(city.safety - userScores.safety);
                
                if (score > bestScore) {
                    bestScore = score;
                    bestMatch = city;
                }
            });
            
            // è®¡ç®—åŒ¹é…åº¦ç™¾åˆ†æ¯”
            const maxPossibleScore = 30; // æœ€å¤§å¯èƒ½çš„æ­£åˆ†æ•°
            const normalizedScore = Math.max(0, Math.min(bestScore + maxPossibleScore, maxPossibleScore * 2));
            const matchPercentage = Math.round((normalizedScore / (maxPossibleScore * 2)) * 100);
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('quizScreen').classList.remove('active');
            document.getElementById('resultScreen').classList.add('active');
            
            document.getElementById('cityName').textContent = bestMatch.name;
            document.getElementById('matchScore').textContent = `åŒ¹é…åº¦ï¼š${matchPercentage}%`;
            document.getElementById('portrait').textContent = bestMatch.portrait;
            
            const tagsContainer = document.getElementById('tags');
            tagsContainer.innerHTML = '';
            bestMatch.tags.forEach(tag => {
                const tagElement = document.createElement('span');
                tagElement.className = 'tag';
                tagElement.textContent = tag;
                tagsContainer.appendChild(tagElement);
            });
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            userScores = {
                wealth: 0,
                chill: 0,
                global: 0,
                vibe: 0,
                nature: 0,
                safety: 0
            };
            document.getElementById('resultScreen').classList.remove('active');
            document.getElementById('startScreen').classList.add('active');
        }
    </script>
</body>
</html>
