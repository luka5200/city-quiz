<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸå¸‚çµé­‚åŒ¹é… - æ‰¾åˆ°ä½ çš„å¤©é€‰ä¹‹åŸï¼ˆç²¾å‡†ç‰ˆï¼‰</title>
    
    <!-- ç™¾åº¦ç»Ÿè®¡ä»£ç  -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?æ‚¨çš„ç™¾åº¦ç»Ÿè®¡ID"; // è¯·æ›¿æ¢ä¸ºæ‚¨çš„ç™¾åº¦ç»Ÿè®¡ID
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    <!-- é™æ—¶éªŒè¯ä»£ç ï¼š3å¤©åè‡ªåŠ¨å¤±æ•ˆ -->
    <script>
        // åˆ›å»ºæ—¥æœŸï¼š2025å¹´06æœˆ17æ—¥
        // æœ‰æ•ˆæœŸï¼š3å¤©ï¼ˆ2025å¹´06æœˆ20æ—¥è‡ªåŠ¨å¤±æ•ˆï¼‰
        function checkExpiration() {
            const expireDate = new Date('2025-06-20T23:59:59');
            const now = new Date();

            if (now > expireDate) {
                document.body.innerHTML = `
                    <div style="
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        min-height: 100vh;
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
                    ">
                        <div style="
                            background: #fff;
                            padding: 50px 40px;
                            border-radius: 20px;
                            text-align: center;
                            max-width: 500px;
                            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                        ">
                            <div style="font-size: 48px; margin-bottom: 20px;">ğŸ”’</div>
                            <h1 style="color: #333; font-size: 24px; margin-bottom: 15px;">æµ‹è¯•é“¾æ¥å·²å¤±æ•ˆ</h1>
                            <p style="color: #666; font-size: 16px; line-height: 1.8;">
                                æœ¬æµ‹è¯•å·²è¶…è¿‡æœ‰æ•ˆæœŸï¼Œè¯·è”ç³»æµ‹è¯•æä¾›è€…è·å–æœ€æ–°é“¾æ¥ã€‚
                            </p>
                        </div>
                    </div>
                `;
                return false;
            }
            return true;
        }

        // é¡µé¢åŠ è½½æ—¶ç«‹å³æ£€æŸ¥
        checkExpiration();
    </script>

    <!-- Netlify Analyticsï¼ˆè‡ªåŠ¨å¯ç”¨ï¼Œæ— éœ€ä»£ç ï¼‰-->
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .quiz-container {
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 700px;
            width: 100%;
            padding: 40px;
            animation: fadeIn 0.5s ease-out;
            max-height: 95vh;
            overflow-y: auto;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .start-screen, .quiz-screen, .result-screen {
            display: none;
            text-align: center;
        }

        .start-screen.active, .quiz-screen.active, .result-screen.active {
            display: block;
        }

        .title {
            font-size: 32px;
            color: #333;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 40px;
            line-height: 1.8;
        }

        .start-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102,126,234,0.4);
        }

        .progress {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 30px;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e0e0e0;
            transition: background 0.3s;
        }

        .progress-dot.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .progress-dot.completed {
            background: #4CAF50;
        }

        .question {
            font-size: 22px;
            color: #333;
            margin-bottom: 30px;
            font-weight: 500;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            padding: 18px 25px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            color: #555;
            text-align: left;
            background: #fff;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
        }

        .result-card {
            background: linear-gradient(135deg, #fff5e6 0%, #fff 100%);
            border-radius: 15px;
            padding: 30px;
            margin-top: 20px;
            border: 2px solid #ffd700;
        }

        .city-name {
            font-size: 36px;
            color: #333;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .match-score {
            font-size: 24px;
            color: #ff6b6b;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
        }

        .portrait {
            font-size: 16px;
            color: #555;
            line-height: 1.8;
            margin-bottom: 25px;
            font-style: italic;
        }

        .radar-chart {
            width: 100%;
            height: 300px;
            margin: 20px 0;
        }

        .recommended-cities {
            margin-top: 30px;
            text-align: left;
        }

        .recommended-title {
            font-size: 18px;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .recommended-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .recommended-item {
            background: #f8f9ff;
            border-radius: 10px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid #667eea;
            transition: all 0.3s;
        }

        .recommended-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(102,126,234,0.2);
        }

        .recommended-city-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .recommended-city-name {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .recommended-city-type {
            font-size: 12px;
            color: #999;
            background: #fff;
            padding: 2px 8px;
            border-radius: 10px;
        }

        .recommended-score {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
        }

        .restart-btn {
            background: #333;
            color: #fff;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .restart-btn:hover {
            background: #555;
            transform: translateY(-2px);
        }

        @media (max-width: 480px) {
            .quiz-container {
                padding: 25px;
            }

            .title {
                font-size: 26px;
            }

            .question {
                font-size: 18px;
            }

            .option {
                padding: 15px 20px;
                font-size: 15px;
            }

            .city-name {
                font-size: 28px;
            }

            .recommended-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .recommended-score {
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <!-- å¼€å§‹ç•Œé¢ -->
        <div class="start-screen active" id="startScreen">
            <h1 class="title">ğŸ™ï¸ åŸå¸‚çµé­‚åŒ¹é…</h1>
            <p class="subtitle">
                æ¯ä¸€åº§åŸå¸‚éƒ½æœ‰ç‹¬ç‰¹çš„çµé­‚ï¼Œ<br>
                å°±åƒæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å¿ƒè·³é¢‘ç‡ã€‚<br><br>
                å›ç­”15ä¸ªé—®é¢˜ï¼Œæ‰¾åˆ°ä¸ä½ çµé­‚å¥‘åˆçš„å¤©é€‰ä¹‹åŸ
            </p>
            <button class="start-btn" onclick="startQuiz()">å¼€å§‹æµ‹è¯•</button>
        </div>

        <!-- ç­”é¢˜ç•Œé¢ -->
        <div class="quiz-screen" id="quizScreen">
            <div class="progress" id="progress"></div>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
        </div>

        <!-- ç»“æœç•Œé¢ -->
        <div class="result-screen" id="resultScreen">
            <h2 class="title" style="font-size: 28px;">âœ¨ ä½ çš„å¤©é€‰ä¹‹åŸ</h2>
            <div class="result-card">
                <div class="city-name" id="cityName"></div>
                <div class="match-score" id="matchScore"></div>
                <div class="tags" id="tags"></div>
                <div class="portrait" id="portrait"></div>
                <canvas id="radarChart" class="radar-chart"></canvas>
                
                <div class="recommended-cities" id="recommendedCities">
                    <div class="recommended-title">
                        ğŸŒŸ åŒç±»åŸå¸‚æ¨è
                    </div>
                    <div class="recommended-list" id="recommendedList"></div>
                </div>
            </div>
            <button class="restart-btn" onclick="restartQuiz()">é‡æ–°æµ‹è¯•</button>
        </div>
    </div>

    <script>
        // ==================== é…ç½®ä¸æ•°æ® ====================
        const config = {
            totalQuestions: 15  // å®Œæ•´15é“é¢˜
        };

        // åŸå¸‚æ•°æ®åº“ - 30ä¸ªå›½å†…åŸå¸‚ï¼Œå‡è¡¡åˆ†å¸ƒå—åŒ—
        const cities = [
            // ========== åŒ—æ–¹åŸå¸‚ï¼ˆ9ä¸ªï¼‰==========
            {
                name: 'åŒ—äº¬',
                wealth: 10, chill: 2, global: 9, vibe: 7, nature: 5, safety: 10,
                region: 'north', climate: 'temperate', cuisine: 'diverse', transport: 'subway',
                tags: ['#æƒåŠ›ä¸­å¿ƒ', '#å†å²åº•è•´', '#æ–‡åŒ–é¦–éƒ½', '#å¥‹æ–—ä¹‹åŸ'],
                icon: 'ğŸ›ï¸',
                portrait: 'ä½ å†…å¿ƒæ¸´æœ›å®ç°è¿œå¤§æŠ±è´Ÿï¼Œåœ¨æƒåŠ›ä¸æ–‡åŒ–çš„ä¸­å¿ƒä¹¦å†™äººç”Ÿä¼ å¥‡ã€‚ä½ ä¹ æƒ¯äºå¿«èŠ‚å¥çš„å¥‹æ–—ï¼ŒåŒæ—¶åˆèƒ½äº«å—æ·±åšçš„å†å²åº•è•´ã€‚',
                type: 'å›½é™…å¤§éƒ½å¸‚'
            },
            {
                name: 'å“ˆå°”æ»¨',
                wealth: 5, chill: 5, global: 6, vibe: 8, nature: 4, safety: 9,
                region: 'northeast', climate: 'cold', cuisine: 'northeast', transport: 'bus',
                tags: ['#å†°åŸ', '#ä¸œæ–¹è«æ–¯ç§‘', '#å†°é›ªç«¥è¯', '#è±ªçˆ½çƒ­æƒ…'],
                icon: 'â„ï¸',
                portrait: 'ä½ æ˜¯æµªæ¼«çš„ç°å®ä¸»ä¹‰è€…ï¼Œåœ¨å†°é›ªç«¥è¯ä¸­å¯»æ‰¾è¯—ä¸è¿œæ–¹ã€‚æ¬§å¼å»ºç­‘çš„å¼‚åŸŸé£æƒ…ä¸ä¸œåŒ—äººçš„çƒ­æƒ…è±ªçˆ½ï¼Œå®Œç¾å¥‘åˆä½ æ—¢æµªæ¼«åˆåŠ¡å®çš„æ€§æ ¼ã€‚',
                type: 'åŒ—å›½é£å…‰',
                activity: 'social'
            },
            {
                name: 'å¤§è¿',
                wealth: 6, chill: 7, global: 6, vibe: 7, nature: 8, safety: 9,
                region: 'northeast', climate: 'temperate', cuisine: 'seafood', transport: 'tram',
                tags: ['#åŒ—æ–¹æ˜ç ', '#æµªæ¼«ä¹‹éƒ½', '#æµ·æ»¨èŠ±å›­', '#æ¬§å¼é£æƒ…'],
                icon: 'âš“',
                portrait: 'ä½ æ˜¯åŒ—æ–¹çš„æµªæ¼«ä¸»ä¹‰è€…ï¼Œåœ¨æµ·æ»¨èŠ±å›­ä¸­æ„Ÿå—ç”Ÿæ´»ä¹‹ç¾ã€‚æ¬§å¼å»ºç­‘ã€æ»¨æµ·é£å…‰ã€æ¸…æ–°ç©ºæ°”ï¼Œæ„æˆäº†ä½ ç†æƒ³çš„ç”Ÿæ´»å›¾æ™¯ã€‚',
                type: 'æµ·æ»¨åŸå¸‚'
            },
            {
                name: 'å¤©æ´¥',
                wealth: 6, chill: 6, global: 5, vibe: 8, nature: 6, safety: 9,
                region: 'north', climate: 'temperate', cuisine: 'northern', transport: 'mixed',
                tags: ['#æ´¥é—¨', '#ç›¸å£°ä¹‹ä¹¡', '#æ¸¤æµ·æ˜ç ', '#å¹½é»˜è±è¾¾'],
                icon: 'ğŸ­',
                portrait: 'ä½ æ˜¯ä¹è§‚è±è¾¾çš„ç”Ÿæ´»å®¶ï¼Œåœ¨ç›¸å£°ä¸èŒ¶é¦™ä¸­å“å‘³äººç”Ÿæ™ºæ…§ã€‚å¹½é»˜æ˜¯ä½ çš„å¤„ä¸–å“²å­¦ï¼Œè®©ä½ åœ¨å¹³æ·¡çš„æ—¥å­é‡Œä¹Ÿèƒ½æ‰¾åˆ°å¿«ä¹ã€‚',
                type: 'æ–‡åŒ–å¤åŸ'
            },
            {
                name: 'é’å²›',
                wealth: 6, chill: 7, global: 6, vibe: 7, nature: 9, safety: 9,
                region: 'north', climate: 'coastal', cuisine: 'seafood', transport: 'mixed',
                tags: ['#æµ·æ»¨ä¹‹åŸ', '#å•¤é…’ä¹‹éƒ½', '#æ¬§é£å»ºç­‘', '#æ¸…çˆ½å®œäºº'],
                icon: 'ğŸº',
                portrait: 'ä½ æ˜¯æµªæ¼«çš„æµ·æ»¨ä¹‹å­ï¼Œåœ¨æµ·é£ä¸­æ„Ÿå—è‡ªç”±ä¸æƒ¬æ„ã€‚æ¬§å¼å»ºç­‘çš„å¼‚åŸŸé£æƒ…ä¸æµ·æ´‹çš„åŒ…å®¹æ€§ï¼Œæ„æˆäº†ä½ ç†æƒ³çš„ç”Ÿæ´»å›¾æ™¯ã€‚',
                type: 'æµ·æ»¨åŸå¸‚'
            },
            {
                name: 'è¥¿å®‰',
                wealth: 6, chill: 4, global: 5, vibe: 8, nature: 6, safety: 8,
                region: 'northwest', climate: 'temperate', cuisine: 'northwest', transport: 'subway',
                tags: ['#åä¸‰æœå¤éƒ½', '#ç¾é£Ÿå¤©å ‚', '#å†å²æ–‡åŒ–', '#åšé‡æ·±æ²‰'],
                icon: 'ğŸº',
                portrait: 'ä½ ä¸å†å²æœ‰ç€å¤©ç„¶çš„è¿æ¥ï¼Œåœ¨åƒå¹´å¤éƒ½ä¸­æ„Ÿå—æ–‡æ˜çš„è„‰åŠ¨ã€‚åšé‡çš„æ–‡åŒ–åº•è•´æ˜¯ä½ ç²¾ç¥ä¸–ç•Œçš„æœ€ä½³å…»åˆ†ã€‚',
                type: 'æ–‡åŒ–å¤åŸ',
                activity: 'culture'
            },
            {
                name: 'ä¹Œé²æœ¨é½',
                wealth: 5, chill: 6, global: 4, vibe: 6, nature: 7, safety: 8,
                region: 'northwest', climate: 'dry', cuisine: 'xinjiang', transport: 'taxi',
                tags: ['#è¥¿åŸŸæ˜ç ', '#å¤šå…ƒæ–‡åŒ–', '#ç¾é£Ÿå¤©å ‚', '#å¼‚åŸŸé£æƒ…'],
                icon: 'ğŸ•Œ',
                portrait: 'ä½ æ˜¯è¿½å¯»å¤šå…ƒæ–‡åŒ–çš„æ¢ç´¢è€…ï¼Œåœ¨ä¸ç»¸ä¹‹è·¯çš„èµ·ç‚¹æ„Ÿå—ä¸œè¥¿æ–¹æ–‡æ˜çš„äº¤èã€‚ç‹¬ç‰¹çš„æ°‘æ—é£æƒ…ä¸å¹¿é˜”çš„è‡ªç„¶é£å…‰ï¼Œæ»‹å…»ç€ä½ å¼€æ”¾åŒ…å®¹çš„å¿ƒçµã€‚',
                type: 'è¥¿åŒ—é£æƒ…'
            },
            {
                name: 'å‘¼å’Œæµ©ç‰¹',
                wealth: 4, chill: 7, global: 3, vibe: 6, nature: 8, safety: 8,
                region: 'north', climate: 'temperate', cuisine: 'mongolian', transport: 'taxi',
                tags: ['#é’åŸ', '#è‰åŸä¹‹éƒ½', '#è’™å…ƒæ–‡åŒ–', '#å®½å¹¿èƒ¸æ€€'],
                icon: 'ğŸ',
                portrait: 'ä½ æ˜¯å‘å¾€è‡ªç”±çš„è‰åŸä¹‹å­ï¼Œåœ¨è¾½é˜”çš„å¤©åœ°é—´å¯»æ‰¾å†…å¿ƒçš„å®é™ã€‚è’™å¤æ–‡åŒ–çš„è±ªè¿ˆä¸è‰åŸçš„å¹¿è¢¤ï¼Œæ„æˆäº†ä½ ç†æƒ³çš„ç²¾ç¥å®¶å›­ã€‚',
                type: 'è¥¿åŒ—é£æƒ…'
            },
            {
                name: 'æ²ˆé˜³',
                wealth: 5, chill: 5, global: 5, vibe: 7, nature: 5, safety: 8,
                region: 'northeast', climate: 'cold', cuisine: 'northeast', transport: 'mixed',
                tags: ['#ç››äº¬', '#å·¥ä¸šä¹‹éƒ½', '#å†å²æ–‡åŒ–', '#è±ªè¿ˆå¤§æ°”'],
                icon: 'ğŸ­',
                portrait: 'ä½ æ˜¯åŠ¡å®çš„å¥‹æ–—è€…ï¼Œåœ¨å·¥ä¸šé‡é•‡æ„Ÿå—ä¸œåŒ—çš„åšéŸ§ã€‚å†å²çš„åšé‡ä¸å·¥ä¸šçš„è¾‰ç…Œï¼Œæ„æˆäº†è¿™åº§åŸå¸‚ç‹¬ç‰¹çš„é­…åŠ›ã€‚',
                type: 'åŒ—å›½é£å…‰'
            },
            // ========== ä¸­éƒ¨åŸå¸‚ï¼ˆ4ä¸ªï¼‰==========
            {
                name: 'æ­¦æ±‰',
                wealth: 7, chill: 4, global: 6, vibe: 8, nature: 7, safety: 8,
                region: 'central', climate: 'subtropical', cuisine: 'central', transport: 'subway',
                tags: ['#ä¹çœé€šè¡¢', '#æ±ŸåŸ', '#çƒ­å¹²é¢', '#æ±Ÿæ¹–æ°”'],
                icon: 'ğŸŒ‰',
                portrait: 'ä½ æœ‰ç€æ±Ÿæ¹–ä¾ å®¢çš„è±ªè¿ˆï¼Œåœ¨é€šè¡¢ä¹‹åœ°å±•ç°è‹±é›„æœ¬è‰²ã€‚ç™¾æ¹–ä¹‹åŸçš„æ°´åŸŸæ»‹å…»ï¼Œè®©ä½ æ—¢æœ‰èƒ¸æ€€åˆæœ‰æ¸©åº¦ã€‚',
                type: 'ä¸­éƒ¨æ¢çº½',
                activity: 'social'
            },
            {
                name: 'é•¿æ²™',
                wealth: 7, chill: 6, global: 5, vibe: 9, nature: 6, safety: 8,
                region: 'central', climate: 'subtropical', cuisine: 'spicy', transport: 'subway',
                tags: ['#å¨±ä¹ä¹‹éƒ½', '#ä¸å¤œä¹‹åŸ', '#ç¾é£Ÿå¤©å ‚', '#çƒ­æƒ…æ´‹æº¢'],
                icon: 'ğŸ¤',
                portrait: 'ä½ æ˜¯çƒ­çˆ±ç”Ÿæ´»çš„äº«ä¹ä¸»ä¹‰è€…ï¼Œåœ¨å¤œç”Ÿæ´»ä¸­é‡Šæ”¾æ— é™æ´»åŠ›ã€‚ä¸å¤œåŸçš„çƒ­é—¹ä¸ç¾é£Ÿçš„è¯±æƒ‘ï¼Œè®©æ¯ä¸€å¤©éƒ½å……æ»¡æ¿€æƒ…ã€‚',
                type: 'å¨±ä¹ä¹‹éƒ½',
                activity: 'social'
            },
            {
                name: 'åˆè‚¥',
                wealth: 6, chill: 5, global: 5, vibe: 6, nature: 6, safety: 8,
                region: 'east', climate: 'subtropical', cuisine: 'anhui', transport: 'subway',
                tags: ['#ç§‘æ•™ä¹‹åŸ', '#åˆ›æ–°é«˜åœ°', '#ç”Ÿæ€ä¼˜ç¾', '#å®œå±…å®œä¸š'],
                icon: 'ğŸ”¬',
                portrait: 'ä½ æ˜¯ç†æ€§çš„æ¢ç´¢è€…ï¼Œåœ¨ç§‘æ•™åŸä¸­æ„Ÿå—åˆ›æ–°çš„åŠ›é‡ã€‚è‰¯å¥½çš„ç”Ÿæ€ç¯å¢ƒä¸æµ“åšçš„å­¦ä¹ æ°›å›´ï¼Œé€‚åˆè¿½æ±‚çŸ¥è¯†ä¸ç”Ÿæ´»å¹³è¡¡çš„ä½ ã€‚',
                type: 'å®œå±…æ–°åŸ',
                activity: 'culture'
            },
            // ========== å—æ–¹åŸå¸‚ï¼ˆ17ä¸ªï¼‰==========
            {
                name: 'ä¸Šæµ·',
                wealth: 10, chill: 3, global: 10, vibe: 8, nature: 6, safety: 9,
                region: 'east', climate: 'subtropical', cuisine: 'sweet', transport: 'subway',
                tags: ['#é­”éƒ½', '#å›½é™…é‡‘è', '#æ—¶å°šå‰æ²¿', '#ç²¾è‡´ç”Ÿæ´»'],
                icon: 'ğŸŒ†',
                portrait: 'ä½ æ˜¯å¤©ç”Ÿçš„å›½é™…åŒ–äººæ‰ï¼Œåœ¨å¤šå…ƒæ–‡åŒ–çš„äº¤èä¸­å¦‚é±¼å¾—æ°´ã€‚è¿½æ±‚ç²¾è‡´ä¸å“è´¨ï¼Œåœ¨å¿«èŠ‚å¥ä¸­ä¾ç„¶ä¿æŒç€ä¼˜é›…çš„ç”Ÿæ´»æ–¹å¼ã€‚',
                type: 'å›½é™…å¤§éƒ½å¸‚',
                activity: 'social'
            },
            {
                name: 'æ·±åœ³',
                wealth: 10, chill: 1, global: 8, vibe: 6, nature: 7, safety: 8,
                region: 'south', climate: 'subtropical', cuisine: 'cantonese', transport: 'subway',
                tags: ['#åˆ›æ–°ä¹‹éƒ½', '#å¥‹æ–—ä¹å›­', '#å¹´è½»æ´»åŠ›', '#ç§‘æŠ€å‰æ²¿'],
                icon: 'ğŸš€',
                portrait: 'ä½ æ˜¯å……æ»¡æ¿€æƒ…çš„åˆ›æ–°è€…ï¼Œåœ¨ç§‘æŠ€çš„æµªæ½®ä¸­å‹‡ç«‹æ½®å¤´ã€‚ä½ ä¸æƒ§æŒ‘æˆ˜ï¼Œç›¸ä¿¡é€šè¿‡åŠªåŠ›å¯ä»¥æ”¹å˜å‘½è¿ï¼Œæ·±åœ³å°±æ˜¯ä½ å®ç°æ¢¦æƒ³çš„èˆå°ã€‚',
                type: 'ç§‘æŠ€æ–°åŸ',
                activity: 'social'
            },
            {
                name: 'å¹¿å·',
                wealth: 9, chill: 4, global: 8, vibe: 10, nature: 7, safety: 9,
                region: 'south', climate: 'subtropical', cuisine: 'cantonese', transport: 'subway',
                tags: ['#ç¾é£Ÿä¹‹éƒ½', '#å•†è´¸ä¸­å¿ƒ', '#åŠ¡å®åŒ…å®¹', '#ç”Ÿæ´»æ°”æ¯'],
                icon: 'ğŸœ',
                portrait: 'ä½ æ˜¯æ‡‚å¾—ç”Ÿæ´»çš„åŠ¡å®æ´¾ï¼Œåœ¨çƒŸç«æ°”ä¸­å“å‘³äººç”Ÿçš„ç¾å¥½ã€‚å¼€æ”¾çš„èƒ¸æ€€åŒ…å®¹ä¸€åˆ‡ï¼Œç¾é£Ÿæ˜¯ä½ ä¸åŸå¸‚æœ€ç›´æ¥çš„æƒ…æ„Ÿçº½å¸¦ã€‚',
                type: 'å•†è´¸ä¹‹éƒ½',
                activity: 'social'
            },
            {
                name: 'æ­å·',
                wealth: 8, chill: 5, global: 7, vibe: 8, nature: 9, safety: 9,
                region: 'east', climate: 'subtropical', cuisine: 'sweet', transport: 'subway',
                tags: ['#äººé—´å¤©å ‚', '#ç”µå•†ä¹‹éƒ½', '#å±±æ°´ä¹‹åŸ', '#å“è´¨ç”Ÿæ´»'],
                icon: 'ğŸŒ¸',
                portrait: 'ä½ åœ¨ä¼ ç»Ÿä¸ç°ä»£ä¹‹é—´æ‰¾åˆ°äº†å®Œç¾å¹³è¡¡ã€‚æ—¢æœ‰è¥¿æ¹–çš„è¯—æ„ï¼Œåˆæœ‰äº’è”ç½‘çš„æ´»åŠ›ï¼Œä½ è¿½æ±‚çš„æ˜¯ä¸€ç§æœ‰å“è´¨çš„æ…¢ç”Ÿæ´»ã€‚',
                type: 'å®œå±…æ–°åŸ',
                activity: 'social'
            },
            {
                name: 'æˆéƒ½',
                wealth: 6, chill: 10, global: 5, vibe: 10, nature: 8, safety: 8,
                region: 'southwest', climate: 'subtropical', cuisine: 'spicy', transport: 'subway',
                tags: ['#å¤©åºœä¹‹å›½', '#æ…¢ç”Ÿæ´»', '#ç«é”…ä¹‹åŸ', '#å®‰é€¸æ‚ é—²'],
                icon: 'ğŸ¼',
                portrait: 'ä½ æ˜¯çœŸæ­£æ‡‚å¾—ç”Ÿæ´»çš„äººï¼Œåœ¨æ…¢èŠ‚å¥ä¸­å“å‘³äººç”ŸçœŸè°›ã€‚ä¸€ç¢—èŒ¶ã€ä¸€é¡¿ç«é”…ï¼Œå°±èƒ½è®©ä½ æ„Ÿå—åˆ°å¹¸ç¦çš„æ¸©åº¦ã€‚',
                type: 'æ…¢ç”Ÿæ´»ä¹‹éƒ½',
                activity: ['social', 'culture']
            },
            {
                name: 'è‹å·',
                wealth: 6, chill: 7, global: 5, vibe: 7, nature: 8, safety: 9,
                region: 'east', climate: 'subtropical', cuisine: 'sweet', transport: 'mixed',
                tags: ['#å›­æ—ä¹‹åŸ', '#æ±Ÿå—æ°´ä¹¡', '#æ¸©å©‰é›…è‡´', '#å®œå±…å¤©å ‚'],
                icon: 'ğŸ®',
                portrait: 'ä½ æ˜¯è¿½æ±‚é›…è‡´ç”Ÿæ´»çš„æ–‡äººé›…å£«ï¼Œåœ¨å›­æ—äº­å°é—´å¯»æ‰¾å†…å¿ƒçš„å®é™ã€‚æ±Ÿå—çš„æ¸©æ¶¦æ°å¥½å¥‘åˆä½ æŸ”è½¯çš„å†…å¿ƒã€‚',
                type: 'æ–‡åŒ–å¤åŸ'
            },
            {
                name: 'å—äº¬',
                wealth: 6, chill: 5, global: 6, vibe: 7, nature: 7, safety: 9,
                region: 'east', climate: 'subtropical', cuisine: 'sweet', transport: 'subway',
                tags: ['#å…­æœå¤éƒ½', '#ç§‘æ•™é‡é•‡', '#æ–‡åŒ–åšé‡', '#åŒ…å®¹å¼€æ”¾'],
                icon: 'ğŸ“',
                portrait: 'ä½ æœ‰ç€æ·±åšçš„äººæ–‡æƒ…æ€€ï¼Œåœ¨å†å²çš„æ²‰æ·€ä¸­æ±²å–æ™ºæ…§ã€‚ç§‘æ•™æ°›å›´æµ“åšï¼Œé€‚åˆè¿½æ±‚çŸ¥è¯†ä¸ç²¾ç¥å¯Œè¶³çš„ä½ ã€‚',
                type: 'æ–‡åŒ–å¤åŸ'
            },
            {
                name: 'å¦é—¨',
                wealth: 5, chill: 9, global: 6, vibe: 7, nature: 10, safety: 9,
                region: 'southeast', climate: 'subtropical', cuisine: 'seafood', transport: 'bus',
                tags: ['#æµ·ä¸ŠèŠ±å›­', '#æ–‡è‰ºå°èµ„', '#æµ·æ»¨ä¼‘é—²', '#æ¸…æ–°å”¯ç¾'],
                icon: 'ğŸŒŠ',
                portrait: 'ä½ æ˜¯æ–‡è‰ºçš„æµªæ¼«ä¸»ä¹‰è€…ï¼Œåœ¨æµ·è¾¹å°åŸä¸­å¯»æ‰¾è¯—æ„æ –å±…ã€‚æ…¢èŠ‚å¥çš„ç”Ÿæ´»ä¸æ¸…æ–°çš„ç¯å¢ƒï¼Œæ»‹å…»ç€ä½ æ•æ„Ÿè€Œç»†è…»çš„å¿ƒçµã€‚',
                type: 'æµ·æ»¨åŸå¸‚'
            },
            {
                name: 'é‡åº†',
                wealth: 7, chill: 5, global: 6, vibe: 9, nature: 7, safety: 8,
                region: 'southwest', climate: 'subtropical', cuisine: 'spicy', transport: 'mixed',
                tags: ['#å±±åŸ', '#ç«é”…ä¹‹éƒ½', '#ç«‹ä½“é­”å¹»', '#ç«è¾£çƒ­æƒ…'],
                icon: 'ğŸŒ¶ï¸',
                portrait: 'ä½ æ˜¯å……æ»¡æ´»åŠ›çš„å†’é™©å®¶ï¼Œåœ¨ç«‹ä½“çš„å±±åŸä¸­æ¢ç´¢äººç”Ÿç™¾æ€ã€‚ç«è¾£çš„æ€§æ ¼ä¸é­”å¹»çš„åŸå¸‚é£è²Œï¼Œå®Œç¾å¥‘åˆä½ ä¸å®‰åˆ†çš„çµé­‚ã€‚',
                type: 'å±±åŸ'
            },
            {
                name: 'æ˜†æ˜',
                wealth: 4, chill: 9, global: 4, vibe: 8, nature: 10, safety: 8,
                region: 'southwest', climate: 'mild', cuisine: 'diverse', transport: 'bus',
                tags: ['#æ˜¥åŸ', '#å››å­£å¦‚æ˜¥', '#é²œèŠ±ç››å¼€', '#æ‚ é—²å®œå±…'],
                icon: 'ğŸŒº',
                portrait: 'ä½ æ˜¯è¿½æ±‚è‡ªç„¶çš„æ²»æ„ˆè€…ï¼Œåœ¨æ°¸æ’çš„æ˜¥å¤©ä¸­å®‰æ”¾çµé­‚ã€‚æ¸©å’Œçš„æ°”å€™ä¸ä¸°å¯Œçš„é²œèŠ±ï¼Œæ˜¯ä½ å¿ƒä¸­ç†æƒ³çš„ç”Ÿæ´»åº•è‰²ã€‚',
                type: 'æ°”å€™å®œå±…'
            },
            {
                name: 'å¤§ç†',
                wealth: 3, chill: 10, global: 4, vibe: 7, nature: 10, safety: 7,
                region: 'southwest', climate: 'mild', cuisine: 'diverse', transport: 'taxi',
                tags: ['#é£èŠ±é›ªæœˆ', '#æ…¢ç”Ÿæ´»', '#æ–‡è‰ºåœ£åœ°', '#å¿ƒçµæ –æ¯'],
                icon: 'ğŸ”ï¸',
                portrait: 'ä½ æ˜¯è¿½å¯»è‡ªç”±çš„çµé­‚æ—…äººï¼Œåœ¨è‹å±±æ´±æµ·é—´å¯»æ‰¾å†…å¿ƒçš„å¹³é™ã€‚æ…¢åˆ°æè‡´çš„ç”Ÿæ´»èŠ‚å¥ï¼Œè®©ä½ çœŸæ­£æ‹¥æœ‰äº†æ—¶é—´çš„æ”¯é…æƒã€‚',
                type: 'æ…¢ç”Ÿæ´»ä¹‹éƒ½'
            },
            {
                name: 'ä¸½æ±Ÿ',
                wealth: 3, chill: 10, global: 5, vibe: 7, nature: 10, safety: 7,
                region: 'southwest', climate: 'mild', cuisine: 'diverse', transport: 'taxi',
                tags: ['#å¤åŸ', '#æŸ”è½¯æ—¶å…‰', '#æµªæ¼«é‚‚é€…', '#è¯—æ„æ –å±…'],
                icon: 'ğŸ®',
                portrait: 'ä½ æ˜¯æµªæ¼«çš„è¿½æ¢¦äººï¼Œåœ¨å¤åŸçš„çŸ³æ¿è·¯ä¸Šå¯»æ‰¾é—å¤±çš„æ—¶å…‰ã€‚æŸ”è½¯çš„æ—¶å…‰ä¸çº³è¥¿æ–‡åŒ–çš„ç¥ç§˜ï¼Œæ»‹å…»ç€ä½ è¯—æ„çš„å¿ƒç”°ã€‚',
                type: 'æ…¢ç”Ÿæ´»ä¹‹éƒ½'
            },
            {
                name: 'æ³‰å·',
                wealth: 6, chill: 6, global: 7, vibe: 9, nature: 8, safety: 9,
                region: 'southeast', climate: 'subtropical', cuisine: 'sweet', transport: 'bus',
                tags: ['#æµ·ä¸Šä¸ç»¸ä¹‹è·¯', '#ä¼—ç¥äººé—´', '#ä¸–é—ä¹‹åŸ', '#é—½å—é£æƒ…'],
                icon: 'â›µ',
                portrait: 'ä½ æ˜¯åŒ…å®¹çš„å¤šå…ƒä¸»ä¹‰è€…ï¼Œåœ¨ä¼—ç¥å…±å±…çš„åœŸåœ°ä¸Šæ„Ÿå—ä¿¡ä»°çš„åŠ›é‡ã€‚æµ·æ´‹æ–‡æ˜çš„å¼€æ”¾ä¸é—½å—æ–‡åŒ–çš„æ·±åšï¼Œæ„æˆäº†ä½ ä¸°å¯Œçš„ç²¾ç¥ä¸–ç•Œã€‚',
                type: 'æ–‡åŒ–å¤åŸ'
            },
            {
                name: 'ç¦å·',
                wealth: 6, chill: 7, global: 5, vibe: 8, nature: 8, safety: 9,
                region: 'southeast', climate: 'subtropical', cuisine: 'sweet', transport: 'bus',
                tags: ['#æ¦•åŸ', '#ä¸‰åŠä¸ƒå··', '#æœ‰ç¦ä¹‹å·', '#å±±æ°´å¤åŸ'],
                icon: 'ğŸŒ³',
                portrait: 'ä½ åœ¨å¤æ¦•æ ‘ä¸‹æ„Ÿå—æ—¶å…‰çš„ç¼“æ…¢ã€‚å†å²æ–‡åŒ–ä¸ç°ä»£ç”Ÿæ´»å’Œè°å…±å­˜ï¼Œé€‚åˆè¿½æ±‚å®‰é€¸ä¸æ–‡åŒ–å¹¶é‡çš„ä½ ã€‚',
                type: 'æ–‡åŒ–å¤åŸ',
                activity: 'social'
            },
            {
                name: 'ä¸‰äºš',
                wealth: 5, chill: 8, global: 6, vibe: 7, nature: 10, safety: 8,
                region: 'south', climate: 'tropical', cuisine: 'seafood', transport: 'taxi',
                tags: ['#ä¸œæ–¹å¤å¨å¤·', '#åº¦å‡å¤©å ‚', '#æ¤°é£æµ·éŸµ', '#æµªæ¼«æµ·å²¸'],
                icon: 'ğŸ–ï¸',
                portrait: 'ä½ æ˜¯è¿½å…‰é€æµªçš„æµ·å²›æ¢¦æƒ³å®¶ï¼Œåœ¨çƒ­å¸¦å¤©å ‚é‡Œå®‰æ”¾èº«å¿ƒã€‚å…¨å¹´æ¸©æš–çš„æµ·é£ä¸ç»ç¾æµ·æ™¯ï¼Œæ˜¯ä½ é€ƒç¦»éƒ½å¸‚å–§åš£çš„ç»ˆææ¸¯æ¹¾ã€‚',
                type: 'æµ·æ»¨åŸå¸‚'
            },
            {
                name: 'ç æµ·',
                wealth: 7, chill: 7, global: 7, vibe: 7, nature: 9, safety: 9,
                region: 'south', climate: 'subtropical', cuisine: 'cantonese', transport: 'bus',
                tags: ['#ç™¾å²›ä¹‹å¸‚', '#æµªæ¼«ä¹‹åŸ', '#èŠ±å›­åŸå¸‚', '#å®œå±…å…¸èŒƒ'],
                icon: 'ğŸŒ´',
                portrait: 'ä½ åœ¨èŠ±å›­åŸå¸‚ä¸­å¯»æ‰¾ç”Ÿæ´»çš„å¹³è¡¡ç‚¹ã€‚ä¸´æ¾³é—¨ã€æ¥é¦™æ¸¯ï¼Œæ—¢æœ‰å‘å±•çš„æœºé‡ï¼Œåˆæœ‰å®œå±…çš„ç¯å¢ƒï¼Œæ˜¯è¿½æ±‚å“è´¨ç”Ÿæ´»çš„ä¸äºŒä¹‹é€‰ã€‚',
                type: 'å®œå±…æ–°åŸ'
            },
            {
                name: 'å®æ³¢',
                wealth: 7, chill: 6, global: 6, vibe: 7, nature: 7, safety: 9,
                region: 'east', climate: 'subtropical', cuisine: 'seafood', transport: 'mixed',
                tags: ['#ä¹¦è—å¤ä»Š', '#æ¸¯é€šå¤©ä¸‹', '#å•†å¸®æ•…é‡Œ', '#æµ·æ´‹æ–‡æ˜'],
                icon: 'ğŸ“š',
                portrait: 'ä½ åœ¨æµ·æ´‹æ–‡æ˜çš„æ»‹å…»ä¸‹æˆé•¿ï¼Œå…¼å…·å•†ä¸šå¤´è„‘ä¸äººæ–‡æƒ…æ€€ã€‚å¼€æ”¾çš„æ¸¯å£åŸå¸‚ï¼Œé€‚åˆè¿½æ±‚äº‹ä¸šä¸ç”Ÿæ´»å¹³è¡¡çš„ä½ ã€‚',
                type: 'æµ·æ»¨åŸå¸‚'
            },
            {
                name: 'æ— é”¡',
                wealth: 7, chill: 6, global: 5, vibe: 7, nature: 8, safety: 9,
                region: 'east', climate: 'subtropical', cuisine: 'sweet', transport: 'mixed',
                tags: ['#å¤ªæ¹–æ˜ç ', '#å·¥å•†ååŸ', '#é±¼ç±³ä¹‹ä¹¡', '#å®œå±…ä¹‹åŸ'],
                icon: 'ğŸŒ¾',
                portrait: 'ä½ åœ¨å¤ªæ¹–çš„æ³¢å…‰ä¸­å¯»æ‰¾ç”Ÿæ´»çš„è¯—æ„ã€‚å·¥å•†å‘è¾¾ã€ç¯å¢ƒä¼˜ç¾ï¼Œæ˜¯å…¸å‹çš„æ±Ÿå—å®œå±…åŸå¸‚ï¼Œé€‚åˆè¿½æ±‚å®‰é€¸ç”Ÿæ´»çš„ä½ ã€‚',
                type: 'å®œå±…æ–°åŸ'
            },
            {
                name: 'é¦™æ¸¯',
                wealth: 10, chill: 3, global: 10, vibe: 9, nature: 6, safety: 9,
                region: 'south', climate: 'subtropical', cuisine: 'cantonese', transport: 'subway',
                tags: ['#ä¸œæ–¹ä¹‹ç ', '#é‡‘èä¸­å¿ƒ', '#è´­ç‰©å¤©å ‚', '#ä¸­è¥¿åˆç’§'],
                icon: 'ğŸ‡­ğŸ‡°',
                portrait: 'ä½ åœ¨å›½é™…éƒ½å¸‚çš„è„‰æä¸­æ„Ÿå—å…¨çƒåŒ–é­…åŠ›ã€‚é«˜æ•ˆçš„æ•ˆç‡ã€å¤šå…ƒçš„æ–‡åŒ–ã€æ— ä¸ä¼¦æ¯”çš„è´­ç‰©ä½“éªŒï¼Œæ„æˆäº†ä½ çš„ç†æƒ³éƒ½å¸‚ç”Ÿæ´»ã€‚',
                type: 'å›½é™…å¤§éƒ½å¸‚',
                activity: 'culture'
            },
            {
                name: 'å°åŒ—',
                wealth: 7, chill: 7, global: 8, vibe: 9, nature: 7, safety: 9,
                region: 'southeast', climate: 'subtropical', cuisine: 'sweet', transport: 'metro',
                tags: ['#å®å²›æ˜ç ', '#æ–‡åˆ›ä¹‹éƒ½', '#å¤œå¸‚ç¾é£Ÿ', '#äººæ–‡æ°”æ¯'],
                icon: 'ğŸ¯',
                portrait: 'ä½ åœ¨æ–‡åˆ›ä¸ç¾é£Ÿçš„äº¤èä¸­æ‰¾åˆ°ç”Ÿæ´»æ¸©åº¦ã€‚ä¼ ç»Ÿä¸ç°ä»£å¹¶å­˜ï¼Œäººæƒ…å‘³æµ“åšï¼Œé€‚åˆè¿½æ±‚å“è´¨ä¸æ¸©æƒ…å¹¶å­˜ç”Ÿæ´»çš„ä½ ã€‚',
                type: 'æ–‡åŒ–å¤åŸ'
            }
        ];

        // 15é“æµ‹è¯•é¢˜ - ç²¾å‡†åŒ¹é…æ°”å€™ã€ç¾é£Ÿã€äº¤é€šã€ç”Ÿæ´»æ–¹å¼ã€äººæ–‡
        const questions = [
            // ========== æ°”å€™åå¥½ï¼ˆ2é¢˜ï¼‰==========
            {
                question: 'ä½ æ›´å–œæ¬¢å“ªç§æ°”å€™ï¼Ÿ',
                options: [
                    { text: 'A. å››å­£åˆ†æ˜ï¼Œæ„Ÿå—å­£èŠ‚å˜åŒ–', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, climate: 'temperate' },
                    { text: 'B. å…¨å¹´æ¸©æš–å¦‚æ˜¥ï¼Œæ²¡æœ‰ä¸¥å¯’é…·æš‘', scores: { wealth: 0, chill: 1, global: 0, vibe: 0, nature: 1, safety: 0 }, climate: 'mild' },
                    { text: 'C. çƒ­å¸¦é˜³å…‰ï¼Œæ²™æ»©æµ·é£', scores: { wealth: 0, chill: 1, global: 0, vibe: 0, nature: 2, safety: 0 }, climate: 'tropical' },
                    { text: 'D. å¹²ç‡¥çˆ½æœ—ï¼Œä¸å–œæ¬¢æ½®æ¹¿', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, climate: 'dry' }
                ]
            },
            {
                question: 'ä½ å¯¹å†¬å¤©çš„æ€åº¦æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. å–œæ¬¢ä¸‹é›ªï¼Œå†¬å¤©å¾ˆæœ‰æƒ…è°ƒ', scores: { wealth: 0, chill: 0, global: 0, vibe: 1, nature: 0, safety: 0 }, climate: 'cold' },
                    { text: 'B. èƒ½æ¥å—ï¼Œä½†ä¸èƒ½å¤ªå†·', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, climate: 'temperate' },
                    { text: 'C. ä¸å–œæ¬¢å†¬å¤©ï¼Œå¸Œæœ›æ¸©æš–', scores: { wealth: 0, chill: 1, global: 0, vibe: 0, nature: 1, safety: 0 }, climate: 'subtropical' },
                    { text: 'D. æ— æ‰€è°“ï¼Œåœ¨å“ªé‡Œéƒ½èƒ½é€‚åº”', scores: { wealth: 0, chill: 0, global: 1, vibe: 1, nature: 0, safety: 0.5 }, climate: 'any' }
                ]
            },
            // ========== ç¾é£Ÿåå¥½ï¼ˆ3é¢˜ï¼‰==========
            {
                question: 'ä½ æœ€å–œæ¬¢çš„å£å‘³æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. ç”œå£ï¼Œå–œæ¬¢æ¸…æ·¡', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, cuisine: 'sweet' },
                    { text: 'B. å’¸é²œï¼Œå–œæ¬¢é‡å£å‘³', scores: { wealth: 0, chill: 0, global: 0, vibe: 1, nature: 0, safety: 0 }, cuisine: 'salty' },
                    { text: 'C. éº»è¾£ï¼Œæ— è¾£ä¸æ¬¢', scores: { wealth: 0, chill: 0, global: 0, vibe: 1, nature: 0, safety: 0 }, cuisine: 'spicy' },
                    { text: 'D. æ¸…æ·¡ï¼Œæ³¨é‡åŸå‘³', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, cuisine: 'light' }
                ]
            },
            {
                question: 'ä½ æœ€å–œæ¬¢åƒçš„èœç³»æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. ç²¤èœï¼Œæ¸…æ·¡é²œç¾', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, cuisine: 'cantonese' },
                    { text: 'B. å·èœï¼Œéº»è¾£é²œé¦™', scores: { wealth: 0, chill: 0, global: 0, vibe: 1, nature: 0, safety: 0 }, cuisine: 'spicy' },
                    { text: 'C. ä¸œåŒ—èœï¼Œåˆ†é‡å®åœ¨', scores: { wealth: 0, chill: 0, global: 0, vibe: 1, nature: 0, safety: 0 }, cuisine: 'northeast' },
                    { text: 'D. æ±Ÿæµ™èœï¼Œç²¾è‡´ç”œç¾', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, cuisine: 'sweet' }
                ]
            },
            {
                question: 'ä½ å¯¹æµ·é²œçš„æ€åº¦æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. éå¸¸å–œæ¬¢ï¼Œç»å¸¸åƒ', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, cuisine: 'seafood' },
                    { text: 'B. å¶å°”åƒï¼Œä¸ç‰¹åˆ«è¿½æ±‚', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, cuisine: 'any' },
                    { text: 'C. ä¸å¤ªå–œæ¬¢åƒ', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, cuisine: 'inland' },
                    { text: 'D. å¯¹æµ·é²œè¿‡æ•', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, cuisine: 'inland' }
                ]
            },
            // ========== äººæ–‡ä¸ç¤¾äº¤ï¼ˆ2é¢˜ï¼‰==========
            {
                question: 'åœ¨ç©ºé—²æ—¶é—´ï¼Œä½ æœ€å–œæ¬¢åšä»€ä¹ˆï¼Ÿ',
                options: [
                    { text: 'A. Kæ­Œã€éº»å°†ï¼Œå’Œæœ‹å‹çƒ­é—¹èšä¼š', scores: { wealth: 0, chill: 0.5, global: 0, vibe: 2, nature: 0, safety: 0.5 }, activity: 'social' },
                    { text: 'B. åšç‰©é¦†ã€å›¾ä¹¦é¦†ï¼Œæ„Ÿå—æ–‡åŒ–æ°”æ¯', scores: { wealth: 0, chill: 0, global: 1, vibe: 1, nature: 0, safety: 0 }, activity: 'culture' },
                    { text: 'C. æˆ·å¤–è¿åŠ¨ï¼Œçˆ¬å±±è·‘æ­¥éª‘è¡Œ', scores: { wealth: 0, chill: 1, global: 0, vibe: 0.5, nature: 2, safety: 0 }, activity: 'outdoor' },
                    { text: 'D. å®…å®¶çœ‹å‰§æ‰“æ¸¸æˆï¼Œäº«å—ä¸ªäººæ—¶å…‰', scores: { wealth: 0, chill: 1.5, global: 0, vibe: 0.5, nature: 0.5, safety: 0.5 }, activity: 'home' }
                ]
            },
            {
                question: 'ä½ æ›´å‘å¾€å“ªç§æ–‡åŒ–æ°›å›´ï¼Ÿ',
                options: [
                    { text: 'A. å›½é™…åŒ–å¤§éƒ½å¸‚ï¼Œå¤šå…ƒæ–‡åŒ–äº¤è', scores: { wealth: 0.5, chill: -0.5, global: 2, vibe: 1, nature: 0, safety: 0 }, region: 'east' },
                    { text: 'B. å†å²æ–‡åŒ–ååŸï¼Œåº•è•´æ·±åš', scores: { wealth: 0, chill: 0.5, global: 0.5, vibe: 1.5, nature: 0.5, safety: 0.5 }, region: 'north' },
                    { text: 'C. æ»¨æµ·åº¦å‡åŸå¸‚ï¼Œä¼‘é—²æµªæ¼«', scores: { wealth: 0, chill: 1.5, global: 0.5, vibe: 0.5, nature: 2, safety: 0 }, region: 'coastal' },
                    { text: 'D. æ–°å…´ç§‘æŠ€åŸå¸‚ï¼Œåˆ›æ–°æ´»åŠ›', scores: { wealth: 1, chill: -0.5, global: 1, vibe: 0.5, nature: 0.5, safety: 0.5 }, region: 'south' }
                ]
            },
            // ========== äº¤é€šå‡ºè¡Œï¼ˆ2é¢˜ï¼‰==========
            {
                question: 'ä½ å¹³æ—¶æœ€å–œæ¬¢ä»€ä¹ˆå‡ºè¡Œæ–¹å¼ï¼Ÿ',
                options: [
                    { text: 'A. åœ°é“ï¼Œå¿«é€Ÿå‡†æ—¶', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, transport: 'subway' },
                    { text: 'B. å…¬äº¤ï¼Œæ–¹ä¾¿ç»æµ', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, transport: 'bus' },
                    { text: 'C. æ‰“è½¦/ç½‘çº¦è½¦ï¼Œèˆ’é€‚ä¾¿æ·', scores: { wealth: 1, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, transport: 'taxi' },
                    { text: 'D. è‡ªå·±å¼€è½¦ï¼Œè‡ªç”±çµæ´»', scores: { wealth: 1, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, transport: 'car' }
                ]
            },
            {
                question: 'ä½ ç†æƒ³çš„åŸå¸‚äº¤é€šæ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. åœ°é“ç½‘ç»œå‘è¾¾ï¼Œå››é€šå…«è¾¾', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, transport: 'subway' },
                    { text: 'B. å…¬äº¤çº¿è·¯å¤šï¼Œè¦†ç›–é¢å¹¿', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, transport: 'bus' },
                    { text: 'C. ä¸æ‹¥å µï¼Œå¼€è½¦æ–¹ä¾¿', scores: { wealth: 0, chill: 1, global: 0, vibe: 0, nature: 0, safety: 0 }, transport: 'car' },
                    { text: 'D. å¤šç§äº¤é€šæ–¹å¼éƒ½å¾ˆä¾¿åˆ©', scores: { wealth: 0, chill: 0, global: 0, vibe: 0, nature: 0, safety: 0 }, transport: 'mixed' }
                ]
            },
            // ========== ç”Ÿæ´»ä¸ä»·å€¼è§‚ï¼ˆ4é¢˜ï¼‰==========
            {
                question: 'å‘¨æœ«æ—©æ™¨é†’æ¥ï¼Œä½ æœ€æƒ³åœ¨å“ªé‡Œå–ç¬¬ä¸€æ¯å’–å•¡ï¼Ÿ',
                options: [
                    { text: 'A. é™†å®¶å˜´äº‘ç«¯ï¼Œä¿¯ç°ç¹åéƒ½å¸‚', scores: { wealth: 1.5, chill: -0.5, global: 1.5, vibe: 0.5, nature: 0, safety: 0.5 } },
                    { text: 'B. èƒ¡åŒè½¬è§’ï¼Œæ„Ÿå—å¸‚äº•çƒŸç«', scores: { wealth: 0, chill: 1, global: 0, vibe: 1.5, nature: 0, safety: 0.5 } },
                    { text: 'C. æµ·è¾¹æ²™æ»©ï¼Œè†å¬æµ·æµªå£°', scores: { wealth: 0, chill: 1.5, global: 0.5, vibe: 0.5, nature: 2, safety: 0 } },
                    { text: 'D. è‡ªå®¶åº­é™¢ï¼Œäº«å—å®é™æ—¶å…‰', scores: { wealth: 0, chill: 2, global: 0, vibe: 0.5, nature: 1, safety: 1 } }
                ]
            },
            {
                question: 'é¢å¯¹ä¸€ä¸ªæ–°å·¥ä½œæœºä¼šï¼Œä»€ä¹ˆæœ€èƒ½æ‰“åŠ¨ä½ ï¼Ÿ',
                options: [
                    { text: 'A. è–ªèµ„æ¶¨å¹…è¶…è¿‡50%ï¼ŒæŒ‘æˆ˜é«˜è–ª', scores: { wealth: 2, chill: -1, global: 0.5, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. å·¥ä½œç”Ÿæ´»å¹³è¡¡ï¼Œæ‹’ç»996', scores: { wealth: 0, chill: 2, global: 0, vibe: 0.5, nature: 0.5, safety: 0.5 } },
                    { text: 'C. å›½é™…åŒ–å›¢é˜Ÿï¼Œæ¥è§¦å…¨çƒä¸šåŠ¡', scores: { wealth: 1, chill: 0, global: 2, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'D. ç¨³å®šçš„å¤§å¹³å°ï¼Œå®Œå–„çš„ç¦åˆ©', scores: { wealth: 0.5, chill: 0.5, global: 0, vibe: 0, nature: 0, safety: 2 } }
                ]
            },
            {
                question: 'ä½ ç†æƒ³ä¸­çš„æ™šé¤æ°›å›´æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. ç±³å…¶æ—é¤å…ï¼Œç²¾è‡´ä¼˜é›…', scores: { wealth: 1, chill: -0.5, global: 1.5, vibe: 1, nature: 0, safety: 0.5 } },
                    { text: 'B. è¡—è¾¹å¤§æ’æ¡£ï¼Œçƒ­é—¹å–§åš£', scores: { wealth: 0, chill: 1, global: 0, vibe: 2, nature: 0, safety: 0 } },
                    { text: 'C. å±…å®¶çƒ¹é¥ªï¼Œæ¸©é¦¨ç§å¯†', scores: { wealth: 0, chill: 1.5, global: 0, vibe: 0.5, nature: 0, safety: 1 } },
                    { text: 'D. å¼‚å›½é£å‘³ï¼Œæ¢ç´¢æ–°å¥‡', scores: { wealth: 0.5, chill: 0.5, global: 2, vibe: 1, nature: 0, safety: 0 } }
                ]
            },
            {
                question: 'ä½ æœ€åæ„Ÿçš„åŸå¸‚é—®é¢˜æ˜¯ï¼Ÿ',
                options: [
                    { text: 'A. å‘å±•æœºä¼šå¤ªå°‘ï¼Œè–ªèµ„æ°´å¹³ä½', scores: { wealth: 2, chill: -1, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. ç”Ÿæ´»èŠ‚å¥å¤ªå¿«ï¼Œå‹åŠ›å¤ªå¤§', scores: { wealth: -0.5, chill: 2, global: 0, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'C. æ’å¤–ä¸¥é‡ï¼Œç¼ºä¹åŒ…å®¹æ€§', scores: { wealth: 0, chill: 0, global: 2, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'D. é£Ÿå ‚ä¸å¥½åƒï¼Œæ²¡æœ‰ç¾é£Ÿ', scores: { wealth: 0, chill: 0, global: 0, vibe: 2, nature: 0, safety: 0 } }
                ]
            },
            {
                question: 'å¦‚æœä½ è¦åœ¨å¤§åŸå¸‚ä¹°æˆ¿ï¼Œä½ æœ€çœ‹é‡ä»€ä¹ˆï¼Ÿ',
                options: [
                    { text: 'A. åœ°æ®µå‡å€¼æ½œåŠ›ï¼ŒæŠ•èµ„ä»·å€¼', scores: { wealth: 1.5, chill: -0.5, global: 0.5, vibe: 0, nature: 0, safety: 0.5 } },
                    { text: 'B. å‘¨è¾¹è‡ªç„¶ç¯å¢ƒï¼Œè¿œç¦»å–§åš£', scores: { wealth: 0, chill: 1, global: 0, vibe: 0.5, nature: 2, safety: 0 } },
                    { text: 'C. å­¦åŒºåŒ»ç–—é…å¥—ï¼Œç”Ÿæ´»ä¾¿åˆ©', scores: { wealth: 0.5, chill: 0, global: 0, vibe: 0, nature: 0, safety: 2 } },
                    { text: 'D. ç¤¾åŒºæ–‡åŒ–æ°›å›´ï¼Œé‚»é‡Œå’Œè°', scores: { wealth: 0, chill: 1.5, global: 0, vibe: 1, nature: 0.5, safety: 1 } }
                ]
            },
            {
                question: 'ä½ è§‰å¾—ä»€ä¹ˆæ ·çš„ç”Ÿæ´»æ‰ç®—æ˜¯æˆåŠŸï¼Ÿ',
                options: [
                    { text: 'A. äº‹ä¸šæœ‰æˆï¼Œè´¢åŠ¡è‡ªç”±', scores: { wealth: 2, chill: -1, global: 0.5, vibe: 0, nature: 0, safety: 0 } },
                    { text: 'B. ç”Ÿæ´»å¹³è¡¡ï¼Œèº«å¿ƒå¥åº·', scores: { wealth: 0, chill: 2, global: 0, vibe: 0.5, nature: 0.5, safety: 0.5 } },
                    { text: 'C. è§è¯†å¹¿é˜”ï¼Œä½“éªŒä¸°å¯Œ', scores: { wealth: 0.5, chill: 0, global: 2, vibe: 0.5, nature: 0, safety: 0 } },
                    { text: 'D. å®¶åº­å¹¸ç¦ï¼Œå®‰ç¨³è¸å®', scores: { wealth: 0, chill: 1, global: 0, vibe: 0, nature: 0, safety: 2 } }
                ]
            }
        ];

        // ==================== æ¸¸æˆçŠ¶æ€ ====================
        let currentQuestionIndex = 0;
        let userScores = {
            wealth: 0,
            chill: 0,
            global: 0,
            vibe: 0,
            nature: 0,
            safety: 0
        };
        let userPreferences = {
            climate: [],
            cuisine: [],
            transport: [],
            region: [],
            activity: []  // å¿…é¡»åˆå§‹åŒ– activity æ•°ç»„
        };

        // ==================== æ ¸å¿ƒé€»è¾‘ ====================
        
        // å¼€å§‹æµ‹è¯•
        function startQuiz() {
            document.getElementById('startScreen').classList.remove('active');
            document.getElementById('quizScreen').classList.add('active');
            renderProgress();
            renderQuestion();
        }

        // æ¸²æŸ“è¿›åº¦æ¡
        function renderProgress() {
            const progressContainer = document.getElementById('progress');
            progressContainer.innerHTML = '';
            for (let i = 0; i < config.totalQuestions; i++) {
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                if (i < currentQuestionIndex) {
                    dot.classList.add('completed');
                } else if (i === currentQuestionIndex) {
                    dot.classList.add('active');
                }
                progressContainer.appendChild(dot);
            }
        }

        // æ¸²æŸ“é¢˜ç›®
        function renderQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('question').textContent = `ç¬¬ ${currentQuestionIndex + 1}/${config.totalQuestions} é¢˜ï¼š${question.question}`;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option.text;
                optionElement.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionElement);
            });
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(optionIndex) {
            try {
                const selectedOption = questions[currentQuestionIndex].options[optionIndex];
                
                // ç´¯åŠ åˆ†æ•°
                userScores.wealth += selectedOption.scores.wealth;
                userScores.chill += selectedOption.scores.chill;
                userScores.global += selectedOption.scores.global;
                userScores.vibe += selectedOption.scores.vibe;
                userScores.nature += selectedOption.scores.nature;
                userScores.safety += selectedOption.scores.safety;
                
                // è®°å½•åå¥½ - æ·»åŠ é”™è¯¯å¤„ç†
                if (selectedOption.climate) {
                    userPreferences.climate.push(selectedOption.climate);
                }
                if (selectedOption.cuisine) {
                    userPreferences.cuisine.push(selectedOption.cuisine);
                }
                if (selectedOption.transport) {
                    userPreferences.transport.push(selectedOption.transport);
                }
                if (selectedOption.region) {
                    userPreferences.region.push(selectedOption.region);
                }
                if (selectedOption.activity) {
                    // å¤„ç† activity å¯èƒ½æ˜¯æ•°ç»„æˆ–å­—ç¬¦ä¸²çš„æƒ…å†µ
                    if (Array.isArray(selectedOption.activity)) {
                        selectedOption.activity.forEach(act => {
                            if (act && !userPreferences.activity.includes(act)) {
                                userPreferences.activity.push(act);
                            }
                        });
                    } else if (typeof selectedOption.activity === 'string') {
                        if (!userPreferences.activity.includes(selectedOption.activity)) {
                            userPreferences.activity.push(selectedOption.activity);
                        }
                    }
                }
                
                // é«˜äº®é€‰ä¸­é€‰é¡¹
                const options = document.querySelectorAll('.option');
                options.forEach((opt, idx) => {
                    if (idx === optionIndex) {
                        opt.classList.add('selected');
                    } else {
                        opt.classList.remove('selected');
                    }
                });
                
                // å»¶è¿Ÿè¿›å…¥ä¸‹ä¸€é¢˜
                setTimeout(() => {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < config.totalQuestions) {
                        renderProgress();
                        renderQuestion();
                    } else {
                        showResult();
                    }
                }, 500);
            } catch (error) {
                console.error('selectOption é”™è¯¯:', error);
                // å³ä½¿å‡ºé”™ä¹Ÿå¼ºåˆ¶è·³è½¬ï¼Œé˜²æ­¢å¡ä½
                setTimeout(() => {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < config.totalQuestions) {
                        renderProgress();
                        renderQuestion();
                    } else {
                        showResult();
                    }
                }, 500);
            }
        }

        // è®¡ç®—åŒ¹é…åº¦ï¼ˆç»¼åˆç®—æ³•ï¼‰
        function calculateMatchScore(city, userScores, userPreferences) {
            let totalScore = 0;
            let maxScore = 100;
            
            // å…­ç»´å¾—åˆ†åŒ¹é…ï¼ˆæƒé‡20% - è¿›ä¸€æ­¥é™ä½ï¼‰
            const dimensions = ['wealth', 'chill', 'global', 'vibe', 'nature', 'safety'];
            let dimDiff = 0;
            dimensions.forEach(dim => {
                const diff = Math.abs(city[dim] - userScores[dim]);
                dimDiff += diff * diff;
            });
            const dimScore = (1 - Math.sqrt(dimDiff / 600)) * 20;
            totalScore += dimScore;
            
            // æ°”å€™åå¥½åŒ¹é…ï¼ˆæƒé‡10%ï¼‰
            let climateScore = 0;
            if (userPreferences.climate.length > 0) {
                const climateMatch = userPreferences.climate.some(c => 
                    c === 'any' || c === city.climate
                );
                climateScore = climateMatch ? 10 : -10;
            }
            totalScore += climateScore;
            
            // ç¾é£Ÿåå¥½åŒ¹é…ï¼ˆæƒé‡35% - æœ€é«˜æƒé‡ï¼‰
            let cuisineScore = 0;
            if (userPreferences.cuisine.length > 0) {
                const cuisineMatch = userPreferences.cuisine.some(c => 
                    c === 'any' || c === 'diverse' || c === city.cuisine
                );
                cuisineScore = cuisineMatch ? 35 : -30;
            }
            totalScore += cuisineScore;
            
            // ä¼‘é—²æ´»åŠ¨åŒ¹é…ï¼ˆæƒé‡25% - å¤§å¹…æå‡ï¼‰
            let activityScore = 0;
            if (userPreferences.activity && userPreferences.activity.length > 0) {
                const activityMatch = userPreferences.activity.some(a => {
                    if (Array.isArray(city.activity)) {
                        return city.activity.includes(a);
                    } else {
                        return city.activity === a;
                    }
                });
                activityScore = activityMatch ? 25 : -25;
            }
            totalScore += activityScore;
            
            // äº¤é€šæ–¹å¼åŒ¹é…ï¼ˆæƒé‡5%ï¼‰
            let transportScore = 0;
            if (userPreferences.transport.length > 0) {
                const transportMatch = userPreferences.transport.some(t => 
                    t === 'mixed' || t === city.transport
                );
                transportScore = transportMatch ? 5 : -5;
            }
            totalScore += transportScore;
            
            // åœ°åŒºåå¥½åŒ¹é…ï¼ˆæƒé‡5%ï¼‰
            let regionScore = 0;
            if (userPreferences.region.length > 0) {
                const regionMatch = userPreferences.region.some(r => 
                    r === 'coastal' ? (city.region === 'east' || city.region === 'south' || city.region === 'southeast') : 
                    r === city.region
                );
                regionScore = regionMatch ? 5 : -5;
            }
            totalScore += regionScore;
            
            return Math.max(30, Math.min(95, Math.round(totalScore)));
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            document.getElementById('quizScreen').classList.remove('active');
            document.getElementById('resultScreen').classList.add('active');
            
            // å°†åˆ†æ•°æ ‡å‡†åŒ–åˆ°0-10
            const normalizedScores = {};
            const dimensions = ['wealth', 'chill', 'global', 'vibe', 'nature', 'safety'];
            dimensions.forEach(dim => {
                normalizedScores[dim] = Math.max(0, Math.min(10, userScores[dim]));
            });
            
            // è®¡ç®—æ‰€æœ‰åŸå¸‚çš„åŒ¹é…åº¦å¹¶æ’åº
            const cityScores = cities.map(city => ({
                city: city,
                score: calculateMatchScore(city, normalizedScores, userPreferences)
            })).sort((a, b) => b.score - a.score);
            
            // æœ€ä½³åŒ¹é…åŸå¸‚
            const bestMatch = cityScores[0].city;
            const bestScore = cityScores[0].score;
            
            // æ˜¾ç¤ºæœ€ä½³åŒ¹é…
            document.getElementById('cityName').textContent = `${bestMatch.icon} ${bestMatch.name}`;
            document.getElementById('matchScore').textContent = `åŒ¹é…åº¦ ${bestScore}%`;
            
            const tagsContainer = document.getElementById('tags');
            tagsContainer.innerHTML = '';
            bestMatch.tags.forEach(tag => {
                const tagElement = document.createElement('span');
                tagElement.className = 'tag';
                tagElement.textContent = tag;
                tagsContainer.appendChild(tagElement);
            });
            
            document.getElementById('portrait').textContent = bestMatch.portrait;
            
            // ç»˜åˆ¶é›·è¾¾å›¾ï¼ˆå¯¹æ¯”æ¨¡å¼ï¼‰
            drawRadarChart(normalizedScores, bestMatch);
            
            // æ˜¾ç¤ºåŒç±»æ¨èï¼ˆæ’é™¤æœ€ä½³åŒ¹é…ï¼Œé€‰æ‹©4ä¸ªåŒç±»åŸå¸‚ï¼‰
            const recommendedContainer = document.getElementById('recommendedList');
            recommendedContainer.innerHTML = '';
            
            const recommendedCities = cityScores
                .slice(1)
                .filter(item => item.city.type === bestMatch.type)
                .slice(0, 4);
            
            if (recommendedCities.length > 0) {
                recommendedCities.forEach(item => {
                    const city = item.city;
                    const score = item.score;
                    
                    const itemElement = document.createElement('div');
                    itemElement.className = 'recommended-item';
                    itemElement.innerHTML = `
                        <div class="recommended-city-info">
                            <span class="recommended-city-name">${city.icon} ${city.name}</span>
                            <span class="recommended-city-type">${city.type}</span>
                        </div>
                        <span class="recommended-score">${score}%</span>
                    `;
                    recommendedContainer.appendChild(itemElement);
                });
            } else {
                // å¦‚æœæ²¡æœ‰åŒç±»åŸå¸‚ï¼Œæ˜¾ç¤ºå‰4ä¸ªæ›¿ä»£åŸå¸‚
                const alternativeCities = cityScores.slice(1, 5);
                alternativeCities.forEach(item => {
                    const city = item.city;
                    const score = item.score;
                    
                    const itemElement = document.createElement('div');
                    itemElement.className = 'recommended-item';
                    itemElement.innerHTML = `
                        <div class="recommended-city-info">
                            <span class="recommended-city-name">${city.icon} ${city.name}</span>
                            <span class="recommended-city-type">${city.type}</span>
                        </div>
                        <span class="recommended-score">${score}%</span>
                    `;
                    recommendedContainer.appendChild(itemElement);
                });
            }
            
            // è¾“å‡ºJSONç»“æœåˆ°æ§åˆ¶å°ï¼ˆä¾¿äºè°ƒè¯•ï¼‰
            const resultJSON = {
                city_name: bestMatch.name,
                match_score: bestScore + '%',
                tags: bestMatch.tags,
                portrait: bestMatch.portrait,
                radar_scores: {
                    wealth: Math.round(normalizedScores.wealth),
                    chill: Math.round(normalizedScores.chill),
                    global: Math.round(normalizedScores.global),
                    vibe: Math.round(normalizedScores.vibe),
                    nature: Math.round(normalizedScores.nature),
                    safety: Math.round(normalizedScores.safety)
                },
                icon_emoji: bestMatch.icon,
                user_preferences: userPreferences,
                recommended_cities: recommendedCities.length > 0 ? 
                    recommendedCities.map(item => ({
                        name: item.city.name,
                        match_score: item.score + '%'
                    })) : 
                    cityScores.slice(1, 5).map(item => ({
                        name: item.city.name,
                        match_score: item.score + '%'
                    }))
            };
            console.log('JSONç»“æœ:', JSON.stringify(resultJSON, null, 2));
        }

        // ç»˜åˆ¶é›·è¾¾å›¾ï¼ˆå¯¹æ¯”æ¨¡å¼ï¼‰
        function drawRadarChart(userScores, cityData) {
            const canvas = document.getElementById('radarChart');
            const ctx = canvas.getContext('2d');
            
            // è®¾ç½®canvaså¤§å°
            const size = 300;
            canvas.width = size;
            canvas.height = size;
            
            const centerX = size / 2;
            const centerY = size / 2;
            const radius = size / 2 - 60;
            
            const dimensions = ['æé’±', 'æ¾å¼›', 'å¼€æ”¾', 'ç¾é£Ÿ', 'ç¯å¢ƒ', 'å®‰ç¨³'];
            const dimKeys = ['wealth', 'chill', 'global', 'vibe', 'nature', 'safety'];
            const numDimensions = dimensions.length;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, size, size);
            
            // ç»˜åˆ¶èƒŒæ™¯ç½‘æ ¼ï¼ˆåŒå¿ƒåœ†/å¤šè¾¹å½¢ï¼‰
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            
            for (let i = 1; i <= 5; i++) {
                ctx.beginPath();
                const currentRadius = (radius / 5) * i;
                for (let j = 0; j <= numDimensions; j++) {
                    const angle = (Math.PI * 2 * j / numDimensions) - Math.PI / 2;
                    const x = centerX + currentRadius * Math.cos(angle);
                    const y = centerY + currentRadius * Math.sin(angle);
                    if (j === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.closePath();
                ctx.stroke();
            }
            
            // ç»˜åˆ¶è½´çº¿å’Œæ ‡ç­¾
            ctx.strokeStyle = '#ccc';
            ctx.fillStyle = '#333';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            for (let i = 0; i < numDimensions; i++) {
                const angle = (Math.PI * 2 * i / numDimensions) - Math.PI / 2;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                
                // è½´çº¿
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
                
                // æ ‡ç­¾
                const labelX = centerX + (radius + 30) * Math.cos(angle);
                const labelY = centerY + (radius + 30) * Math.sin(angle);
                ctx.fillText(dimensions[i], labelX, labelY);
            }
            
            // ç»˜åˆ¶åŸå¸‚æ•°æ®ï¼ˆåº•å±‚ï¼Œç»¿è‰²ï¼‰
            drawRadarPolygon(ctx, cityData, dimKeys, centerX, centerY, radius, numDimensions, {
                fillColor: 'rgba(76, 175, 80, 0.2)',
                strokeColor: '#4CAF50',
                pointColor: '#4CAF50',
                pointRadius: 4,
                lineWidth: 2
            });
            
            // ç»˜åˆ¶ç”¨æˆ·æ•°æ®ï¼ˆé¡¶å±‚ï¼Œç´«è‰²ï¼‰
            drawRadarPolygon(ctx, userScores, dimKeys, centerX, centerY, radius, numDimensions, {
                fillColor: 'rgba(102, 126, 234, 0.25)',
                strokeColor: '#667eea',
                pointColor: '#667eea',
                pointRadius: 5,
                lineWidth: 2.5
            });
            
            // ç»˜åˆ¶å›¾ä¾‹
            drawLegend(ctx, size);
        }

        // ç»˜åˆ¶å•ä¸ªé›·è¾¾å¤šè¾¹å½¢
        function drawRadarPolygon(ctx, data, dimKeys, centerX, centerY, radius, numDimensions, style) {
            ctx.beginPath();
            dimKeys.forEach((key, i) => {
                const angle = (Math.PI * 2 * i / numDimensions) - Math.PI / 2;
                const value = data[key] / 10; // å½’ä¸€åŒ–åˆ°0-1
                const x = centerX + radius * value * Math.cos(angle);
                const y = centerY + radius * value * Math.sin(angle);
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.closePath();
            
            // å¡«å……é¢œè‰²
            ctx.fillStyle = style.fillColor;
            ctx.fill();
            
            // ç»˜åˆ¶è¾¹æ¡†
            ctx.strokeStyle = style.strokeColor;
            ctx.lineWidth = style.lineWidth;
            ctx.stroke();
            
            // ç»˜åˆ¶æ•°æ®ç‚¹
            dimKeys.forEach((key, i) => {
                const angle = (Math.PI * 2 * i / numDimensions) - Math.PI / 2;
                const value = data[key] / 10;
                const x = centerX + radius * value * Math.cos(angle);
                const y = centerY + radius * value * Math.sin(angle);
                
                ctx.beginPath();
                ctx.arc(x, y, style.pointRadius, 0, Math.PI * 2);
                ctx.fillStyle = style.pointColor;
                ctx.fill();
                
                // æ•°æ®ç‚¹ç™½è‰²è¾¹æ¡†ï¼Œå¢å¼ºå¯¹æ¯”
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 1.5;
                ctx.stroke();
            });
        }

        // ç»˜åˆ¶å›¾ä¾‹
        function drawLegend(ctx, size) {
            const legendY = size - 20;
            const legendX = size / 2;
            
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            
            // ç”¨æˆ·å›¾ä¾‹ï¼ˆç´«è‰²ï¼‰
            ctx.fillStyle = '#667eea';
            ctx.fillRect(legendX - 80, legendY, 12, 12);
            ctx.fillStyle = '#333';
            ctx.fillText('ä½ çš„å¾—åˆ†', legendX - 40, legendY + 7);
            
            // åŸå¸‚å›¾ä¾‹ï¼ˆç»¿è‰²ï¼‰
            ctx.fillStyle = '#4CAF50';
            ctx.fillRect(legendX + 30, legendY, 12, 12);
            ctx.fillStyle = '#333';
            ctx.fillText('åŸå¸‚æŒ‡æ•°', legendX + 70, legendY + 7);
        }

        // é‡æ–°æµ‹è¯•
        function restartQuiz() {
            currentQuestionIndex = 0;
            userScores = {
                wealth: 0,
                chill: 0,
                global: 0,
                vibe: 0,
                nature: 0,
                safety: 0
            };
            userPreferences = {
                climate: [],
                cuisine: [],
                transport: [],
                region: []
            };
            
            document.getElementById('resultScreen').classList.remove('active');
            document.getElementById('startScreen').classList.add('active');
        }
    </script>
</body>
</html>